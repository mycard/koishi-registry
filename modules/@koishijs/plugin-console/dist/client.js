var ns=Object.defineProperty;var ss=(e,t,n)=>t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>(ss(e,typeof t!="symbol"?t+"":t,n),n);import{reactive as Oe,ref as K,markRaw as cn,defineComponent as N,h as ye,openBlock as g,createElementBlock as _,withModifiers as Be,normalizeClass as le,renderSlot as U,computed as Z,watch as ce,resolveComponent as E,Fragment as H,createTextVNode as G,createVNode as V,withCtx as k,renderList as ge,unref as $,createBlock as j,createElementVNode as b,toDisplayString as ee,isRef as $e,createCommentVNode as X,createSlots as ft,normalizeStyle as Tt,createStaticVNode as rs,mergeProps as un,pushScopeId as is,popScopeId as ls,normalizeProps as os,guardReactiveProps as as,withKeys as cs,inject as Nt,Teleport as us,Transition as Ct,onMounted as Lt,withDirectives as fs,Text as ds,Comment as hs,nextTick as ps,onActivated as ms,resolveDynamicComponent as gs,onBeforeUnmount as vs}from"./vue.js";import{useRoute as _s,createRouter as ys,createWebHistory as bs,START_LOCATION as ks}from"./vue-router.js";import{useLocalStorage as ws,useEventListener as dt,resolveUnref as wt}from"./vueuse.js";import{y as xs,E as $s,a as Cs,b as Ss,i as Vs}from"./element.js";const zs="modulepreload",As=function(e){return"/"+e},qt={},Ts=function(t,n,s){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=As(i),i in qt)return;qt[i]=!0;const u=i.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!s)for(let h=r.length-1;h>=0;h--){const l=r[h];if(l.href===i&&(!u||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":zs,u||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),u)return new Promise((h,l)=>{d.addEventListener("load",h),d.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};function Jf(e,t,n){const s=ws("koishi.console."+e,{}),r=n?n():{};return s.value.version!==t?s.value={version:t,data:r}:Array.isArray(s.value.data)||(s.value.data={...r,...s.value.data}),Oe(s.value.data)}const Ls=KOISHI_CONFIG,we=Oe({}),ht=K(null),St={},Xe={};function Yf(e,...t){if(!ht.value)return;const n=Math.random().toString(36).slice(2,9);return ht.value.send(JSON.stringify({id:n,type:e,args:t})),new Promise((s,r)=>{Xe[n]=[s,r],setTimeout(()=>{delete Xe[n],r(new Error("timeout"))},6e4)})}function Et(e,t){St[e]=t}Et("data",({key:e,value:t})=>{we[e]=t});Et("patch",({key:e,value:t})=>{Array.isArray(we[e])?we[e].push(...t):Object.assign(we[e],t)});Et("response",({id:e,value:t,error:n})=>{if(!Xe[e])return;const[s,r]=Xe[e];delete Xe[e],n?r(n):s(t)});function Es(e){const t=e();return t.onmessage=n=>{const s=JSON.parse(n.data);console.debug("%c","color:purple",s.type,s.body),s.type in St&&St[s.type](s.body)},t.onclose=n=>{ht.value=null;for(const s in we)we[s]=void 0;console.log("[koishi] websocket disconnected, will retry in 1s..."),setTimeout(()=>{Es(e).then(location.reload,()=>{console.log("[koishi] websocket disconnected, will retry in 1s...")})},1e3)},new Promise((n,s)=>{t.onopen=r=>{ht.value=cn(t),n(r)},t.onerror=s})}function fn(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let He=fn();function Is(e){He=e}const dn=/[&<>"']/,Rs=new RegExp(dn.source,"g"),hn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Os=new RegExp(hn.source,"g"),Ms={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wt=e=>Ms[e];function de(e,t){if(t){if(dn.test(e))return e.replace(Rs,Wt)}else if(hn.test(e))return e.replace(Os,Wt);return e}const Bs=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function pn(e){return e.replace(Bs,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const js=/(^|[^\[])\^/g;function Q(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(s,r)=>(r=r.source||r,r=r.replace(js,"$1"),e=e.replace(s,r),n),getRegex:()=>new RegExp(e,t)};return n}const Us=/[^\w:]/g,Ps=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Zt(e,t,n){if(e){let s;try{s=decodeURIComponent(pn(n)).replace(Us,"").toLowerCase()}catch{return null}if(s.indexOf("javascript:")===0||s.indexOf("vbscript:")===0||s.indexOf("data:")===0)return null}t&&!Ps.test(n)&&(n=Ns(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const nt={},Ds=/^[^:]+:\/*[^/]*$/,Hs=/^([^:]+:)[\s\S]*$/,Fs=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ns(e,t){nt[" "+e]||(Ds.test(e)?nt[" "+e]=e+"/":nt[" "+e]=ot(e,"/",!0)),e=nt[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(Hs,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(Fs,"$1")+t:e+t}const pt={exec:function(){}};function Se(e){let t=1,n,s;for(;t<arguments.length;t++){n=arguments[t];for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}function Gt(e,t){const n=e.replace(/\|/g,(i,u,c)=>{let o=!1,d=u;for(;--d>=0&&c[d]==="\\";)o=!o;return o?"|":" |"}),s=n.split(/ \|/);let r=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),s.length>t)s.splice(t);else for(;s.length<t;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(/\\\|/g,"|");return s}function ot(e,t,n){const s=e.length;if(s===0)return"";let r=0;for(;r<s;){const i=e.charAt(s-r-1);if(i===t&&!n)r++;else if(i!==t&&n)r++;else break}return e.slice(0,s-r)}function qs(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let s=0,r=0;for(;r<n;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])s++;else if(e[r]===t[1]&&(s--,s<0))return r;return-1}function mn(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Qt(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function Xt(e,t,n,s){const r=t.href,i=t.title?de(t.title):null,u=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){s.state.inLink=!0;const c={type:"link",raw:n,href:r,title:i,text:u,tokens:s.inlineTokens(u)};return s.state.inLink=!1,c}return{type:"image",raw:n,href:r,title:i,text:de(u)}}function Ws(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const s=n[1];return t.split(`
`).map(r=>{const i=r.match(/^\s+/);if(i===null)return r;const[u]=i;return u.length>=s.length?r.slice(s.length):r}).join(`
`)}class It{constructor(t){this.options=t||He}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const s=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:ot(s,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const s=n[0],r=Ws(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:r}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let s=n[2].trim();if(/#$/.test(s)){const r=ot(s,"#");(this.options.pedantic||!r||/ $/.test(r))&&(s=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const s=n[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(s);return this.lexer.state.top=r,{type:"blockquote",raw:n[0],tokens:i,text:s}}}list(t){let n=this.rules.block.list.exec(t);if(n){let s,r,i,u,c,o,d,h,l,f,a,m,v=n[1].trim();const p=v.length>1,y={type:"list",raw:"",ordered:p,start:p?+v.slice(0,-1):"",loose:!1,items:[]};v=p?`\\d{1,9}\\${v.slice(-1)}`:`\\${v}`,this.options.pedantic&&(v=p?v:"[*+-]");const w=new RegExp(`^( {0,3}${v})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(m=!1,!(!(n=w.exec(t))||this.rules.block.hr.test(t)));){if(s=n[0],t=t.substring(s.length),h=n[2].split(`
`,1)[0].replace(/^\t+/,ue=>" ".repeat(3*ue.length)),l=t.split(`
`,1)[0],this.options.pedantic?(u=2,a=h.trimLeft()):(u=n[2].search(/[^ ]/),u=u>4?1:u,a=h.slice(u),u+=n[1].length),o=!1,!h&&/^ *$/.test(l)&&(s+=l+`
`,t=t.substring(l.length+1),m=!0),!m){const ue=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),z=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),ne=new RegExp(`^ {0,${Math.min(3,u-1)}}#`);for(;t&&(f=t.split(`
`,1)[0],l=f,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(x.test(l)||ne.test(l)||ue.test(l)||z.test(t)));){if(l.search(/[^ ]/)>=u||!l.trim())a+=`
`+l.slice(u);else{if(o||h.search(/[^ ]/)>=4||x.test(h)||ne.test(h)||z.test(h))break;a+=`
`+l}!o&&!l.trim()&&(o=!0),s+=f+`
`,t=t.substring(f.length+1),h=l.slice(u)}}y.loose||(d?y.loose=!0:/\n *\n *$/.test(s)&&(d=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(a),r&&(i=r[0]!=="[ ] ",a=a.replace(/^\[[ xX]\] +/,""))),y.items.push({type:"list_item",raw:s,task:!!r,checked:i,loose:!1,text:a}),y.raw+=s}y.items[y.items.length-1].raw=s.trimRight(),y.items[y.items.length-1].text=a.trimRight(),y.raw=y.raw.trimRight();const O=y.items.length;for(c=0;c<O;c++)if(this.lexer.state.top=!1,y.items[c].tokens=this.lexer.blockTokens(y.items[c].text,[]),!y.loose){const ue=y.items[c].tokens.filter(x=>x.type==="space"),z=ue.length>0&&ue.some(x=>/\n.*\n/.test(x.raw));y.loose=z}if(y.loose)for(c=0;c<O;c++)y.items[c].loose=!0;return y}}html(t){const n=this.rules.block.html.exec(t);if(n){const s={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(n[0]):de(n[0]);s.type="paragraph",s.text=r,s.tokens=this.lexer.inline(r)}return s}}def(t){const n=this.rules.block.def.exec(t);if(n){const s=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:r,title:i}}}table(t){const n=this.rules.block.table.exec(t);if(n){const s={type:"table",header:Gt(n[1]).map(r=>({text:r})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(s.header.length===s.align.length){s.raw=n[0];let r=s.align.length,i,u,c,o;for(i=0;i<r;i++)/^ *-+: *$/.test(s.align[i])?s.align[i]="right":/^ *:-+: *$/.test(s.align[i])?s.align[i]="center":/^ *:-+ *$/.test(s.align[i])?s.align[i]="left":s.align[i]=null;for(r=s.rows.length,i=0;i<r;i++)s.rows[i]=Gt(s.rows[i],s.header.length).map(d=>({text:d}));for(r=s.header.length,u=0;u<r;u++)s.header[u].tokens=this.lexer.inline(s.header[u].text);for(r=s.rows.length,u=0;u<r;u++)for(o=s.rows[u],c=0;c<o.length;c++)o[c].tokens=this.lexer.inline(o[c].text);return s}}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:de(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):de(n[0]):n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const u=ot(s.slice(0,-1),"\\");if((s.length-u.length)%2===0)return}else{const u=qs(n[2],"()");if(u>-1){const o=(n[0].indexOf("!")===0?5:4)+n[1].length+u;n[2]=n[2].substring(0,u),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let r=n[2],i="";if(this.options.pedantic){const u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);u&&(r=u[1],i=u[3])}else i=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(s)?r=r.slice(1):r=r.slice(1,-1)),Xt(n,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(t,n){let s;if((s=this.rules.inline.reflink.exec(t))||(s=this.rules.inline.nolink.exec(t))){let r=(s[2]||s[1]).replace(/\s+/g," ");if(r=n[r.toLowerCase()],!r){const i=s[0].charAt(0);return{type:"text",raw:i,text:i}}return Xt(s,r,s[0],this.lexer)}}emStrong(t,n,s=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r||r[3]&&s.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(s===""||this.rules.inline.punctuation.exec(s))){const u=r[0].length-1;let c,o,d=u,h=0;const l=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,n=n.slice(-1*t.length+u);(r=l.exec(n))!=null;){if(c=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!c)continue;if(o=c.length,r[3]||r[4]){d+=o;continue}else if((r[5]||r[6])&&u%3&&!((u+o)%3)){h+=o;continue}if(d-=o,d>0)continue;o=Math.min(o,o+d+h);const f=t.slice(0,u+r.index+(r[0].length-c.length)+o);if(Math.min(u,o)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const a=f.slice(2,-2);return{type:"strong",raw:f,text:a,tokens:this.lexer.inlineTokens(a)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let s=n[2].replace(/\n/g," ");const r=/[^ ]/.test(s),i=/^ /.test(s)&&/ $/.test(s);return r&&i&&(s=s.substring(1,s.length-1)),s=de(s,!0),{type:"codespan",raw:n[0],text:s}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t,n){const s=this.rules.inline.autolink.exec(t);if(s){let r,i;return s[2]==="@"?(r=de(this.options.mangle?n(s[1]):s[1]),i="mailto:"+r):(r=de(s[1]),i=r),{type:"link",raw:s[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t,n){let s;if(s=this.rules.inline.url.exec(t)){let r,i;if(s[2]==="@")r=de(this.options.mangle?n(s[0]):s[0]),i="mailto:"+r;else{let u;do u=s[0],s[0]=this.rules.inline._backpedal.exec(s[0])[0];while(u!==s[0]);r=de(s[0]),s[1]==="www."?i="http://"+s[0]:i=s[0]}return{type:"link",raw:s[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t,n){const s=this.rules.inline.text.exec(t);if(s){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):de(s[0]):s[0]:r=de(this.options.smartypants?n(s[0]):s[0]),{type:"text",raw:s[0],text:r}}}}const L={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:pt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};L._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;L._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;L.def=Q(L.def).replace("label",L._label).replace("title",L._title).getRegex();L.bullet=/(?:[*+-]|\d{1,9}[.)])/;L.listItemStart=Q(/^( *)(bull) */).replace("bull",L.bullet).getRegex();L.list=Q(L.list).replace(/bull/g,L.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+L.def.source+")").getRegex();L._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";L._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;L.html=Q(L.html,"i").replace("comment",L._comment).replace("tag",L._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();L.paragraph=Q(L._paragraph).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex();L.blockquote=Q(L.blockquote).replace("paragraph",L.paragraph).getRegex();L.normal=Se({},L);L.gfm=Se({},L.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});L.gfm.table=Q(L.gfm.table).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex();L.gfm.paragraph=Q(L._paragraph).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",L.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex();L.pedantic=Se({},L.normal,{html:Q(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",L._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:pt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Q(L.normal._paragraph).replace("hr",L.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",L.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const S={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:pt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:pt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};S._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";S.punctuation=Q(S.punctuation).replace(/punctuation/g,S._punctuation).getRegex();S.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;S.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;S._comment=Q(L._comment).replace("(?:-->|$)","-->").getRegex();S.emStrong.lDelim=Q(S.emStrong.lDelim).replace(/punct/g,S._punctuation).getRegex();S.emStrong.rDelimAst=Q(S.emStrong.rDelimAst,"g").replace(/punct/g,S._punctuation).getRegex();S.emStrong.rDelimUnd=Q(S.emStrong.rDelimUnd,"g").replace(/punct/g,S._punctuation).getRegex();S._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;S._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;S._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;S.autolink=Q(S.autolink).replace("scheme",S._scheme).replace("email",S._email).getRegex();S._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;S.tag=Q(S.tag).replace("comment",S._comment).replace("attribute",S._attribute).getRegex();S._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;S._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;S._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;S.link=Q(S.link).replace("label",S._label).replace("href",S._href).replace("title",S._title).getRegex();S.reflink=Q(S.reflink).replace("label",S._label).replace("ref",L._label).getRegex();S.nolink=Q(S.nolink).replace("ref",L._label).getRegex();S.reflinkSearch=Q(S.reflinkSearch,"g").replace("reflink",S.reflink).replace("nolink",S.nolink).getRegex();S.normal=Se({},S);S.pedantic=Se({},S.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Q(/^!?\[(label)\]\((.*?)\)/).replace("label",S._label).getRegex(),reflink:Q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",S._label).getRegex()});S.gfm=Se({},S.normal,{escape:Q(S.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});S.gfm.url=Q(S.gfm.url,"i").replace("email",S.gfm._extended_email).getRegex();S.breaks=Se({},S.gfm,{br:Q(S.br).replace("{2,}","*").getRegex(),text:Q(S.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Zs(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Kt(e){let t="",n,s;const r=e.length;for(n=0;n<r;n++)s=e.charCodeAt(n),Math.random()>.5&&(s="x"+s.toString(16)),t+="&#"+s+";";return t}class Ae{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||He,this.options.tokenizer=this.options.tokenizer||new It,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:L.normal,inline:S.normal};this.options.pedantic?(n.block=L.pedantic,n.inline=S.pedantic):this.options.gfm&&(n.block=L.gfm,this.options.breaks?n.inline=S.breaks:n.inline=S.gfm),this.tokenizer.rules=n}static get rules(){return{block:L,inline:S}}static lex(t,n){return new Ae(n).lex(t)}static lexInline(t,n){return new Ae(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(c,o,d)=>o+"    ".repeat(d.length));let s,r,i,u;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>(s=c.call({lexer:this},t,n))?(t=t.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.space(t)){t=t.substring(s.raw.length),s.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(t)){t=t.substring(s.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(s);continue}if(s=this.tokenizer.fences(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(t)){t=t.substring(s.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+s.raw,r.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(t)){t=t.substring(s.raw.length),n.push(s);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let c=1/0;const o=t.slice(1);let d;this.options.extensions.startBlock.forEach(function(h){d=h.call({lexer:this},o),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(i=t.substring(0,c+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){r=n[n.length-1],u&&r.type==="paragraph"?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(s),u=i.length!==t.length,t=t.substring(s.raw.length);continue}if(s=this.tokenizer.text(t)){t=t.substring(s.raw.length),r=n[n.length-1],r&&r.type==="text"?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(s);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let s,r,i,u=t,c,o,d;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(u))!=null;)h.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,c.index)+"["+Qt("a",c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.blockSkip.exec(u))!=null;)u=u.slice(0,c.index)+"["+Qt("a",c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(c=this.tokenizer.rules.inline.escapedEmSt.exec(u))!=null;)u=u.slice(0,c.index+c[0].length-2)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(o||(d=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(s=h.call({lexer:this},t,n))?(t=t.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(t)){t=t.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(s.raw.length),r=n[n.length-1],r&&s.type==="text"&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(t,u,d)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(t,Kt)){t=t.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(t,Kt))){t=t.substring(s.raw.length),n.push(s);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const l=t.slice(1);let f;this.options.extensions.startInline.forEach(function(a){f=a.call({lexer:this},l),typeof f=="number"&&f>=0&&(h=Math.min(h,f))}),h<1/0&&h>=0&&(i=t.substring(0,h+1))}if(s=this.tokenizer.inlineText(i,Zs)){t=t.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(d=s.raw.slice(-1)),o=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=s.raw,r.text+=s.text):n.push(s);continue}if(t){const h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return n}}class Rt{constructor(t){this.options=t||He}code(t,n,s){const r=(n||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(t,r);i!=null&&i!==t&&(s=!0,t=i)}return t=t.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+de(r)+'">'+(s?t:de(t,!0))+`</code></pre>
`:"<pre><code>"+(s?t:de(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,n,s,r){if(this.options.headerIds){const i=this.options.headerPrefix+r.slug(s);return`<h${n} id="${i}">${t}</h${n}>
`}return`<h${n}>${t}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,n,s){const r=n?"ol":"ul",i=n&&s!==1?' start="'+s+'"':"";return"<"+r+i+`>
`+t+"</"+r+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const s=n.header?"th":"td";return(n.align?`<${s} align="${n.align}">`:`<${s}>`)+t+`</${s}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,n,s){if(t=Zt(this.options.sanitize,this.options.baseUrl,t),t===null)return s;let r='<a href="'+t+'"';return n&&(r+=' title="'+n+'"'),r+=">"+s+"</a>",r}image(t,n,s){if(t=Zt(this.options.sanitize,this.options.baseUrl,t),t===null)return s;let r=`<img src="${t}" alt="${s}"`;return n&&(r+=` title="${n}"`),r+=this.options.xhtml?"/>":">",r}text(t){return t}}class gn{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,s){return""+s}image(t,n,s){return""+s}br(){return""}}class vn{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,n){let s=t,r=0;if(this.seen.hasOwnProperty(s)){r=this.seen[t];do r++,s=t+"-"+r;while(this.seen.hasOwnProperty(s))}return n||(this.seen[t]=r,this.seen[s]=0),s}slug(t,n={}){const s=this.serialize(t);return this.getNextSafeSlug(s,n.dryrun)}}class Ve{constructor(t){this.options=t||He,this.options.renderer=this.options.renderer||new Rt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gn,this.slugger=new vn}static parse(t,n){return new Ve(n).parse(t)}static parseInline(t,n){return new Ve(n).parseInline(t)}parse(t,n=!0){let s="",r,i,u,c,o,d,h,l,f,a,m,v,p,y,w,O,ue,z,x;const ne=t.length;for(r=0;r<ne;r++){if(a=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(x=this.options.extensions.renderers[a.type].call({parser:this},a),x!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type))){s+=x||"";continue}switch(a.type){case"space":continue;case"hr":{s+=this.renderer.hr();continue}case"heading":{s+=this.renderer.heading(this.parseInline(a.tokens),a.depth,pn(this.parseInline(a.tokens,this.textRenderer)),this.slugger);continue}case"code":{s+=this.renderer.code(a.text,a.lang,a.escaped);continue}case"table":{for(l="",h="",c=a.header.length,i=0;i<c;i++)h+=this.renderer.tablecell(this.parseInline(a.header[i].tokens),{header:!0,align:a.align[i]});for(l+=this.renderer.tablerow(h),f="",c=a.rows.length,i=0;i<c;i++){for(d=a.rows[i],h="",o=d.length,u=0;u<o;u++)h+=this.renderer.tablecell(this.parseInline(d[u].tokens),{header:!1,align:a.align[u]});f+=this.renderer.tablerow(h)}s+=this.renderer.table(l,f);continue}case"blockquote":{f=this.parse(a.tokens),s+=this.renderer.blockquote(f);continue}case"list":{for(m=a.ordered,v=a.start,p=a.loose,c=a.items.length,f="",i=0;i<c;i++)w=a.items[i],O=w.checked,ue=w.task,y="",w.task&&(z=this.renderer.checkbox(O),p?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=z+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=z+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:z}):y+=z),y+=this.parse(w.tokens,p),f+=this.renderer.listitem(y,ue,O);s+=this.renderer.list(f,m,v);continue}case"html":{s+=this.renderer.html(a.text);continue}case"paragraph":{s+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{for(f=a.tokens?this.parseInline(a.tokens):a.text;r+1<ne&&t[r+1].type==="text";)a=t[++r],f+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);s+=n?this.renderer.paragraph(f):f;continue}default:{const fe='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(fe);return}else throw new Error(fe)}}}return s}parseInline(t,n){n=n||this.renderer;let s="",r,i,u;const c=t.length;for(r=0;r<c;r++){if(i=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(u=this.options.extensions.renderers[i.type].call({parser:this},i),u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){s+=u||"";continue}switch(i.type){case"escape":{s+=n.text(i.text);break}case"html":{s+=n.html(i.text);break}case"link":{s+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{s+=n.image(i.href,i.title,i.text);break}case"strong":{s+=n.strong(this.parseInline(i.tokens,n));break}case"em":{s+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{s+=n.codespan(i.text);break}case"br":{s+=n.br();break}case"del":{s+=n.del(this.parseInline(i.tokens,n));break}case"text":{s+=n.text(i.text);break}default:{const o='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(o);return}else throw new Error(o)}}}return s}}function I(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=Se({},I.defaults,t||{}),mn(t),n){const r=t.highlight;let i;try{i=Ae.lex(e,t)}catch(o){return n(o)}const u=function(o){let d;if(!o)try{t.walkTokens&&I.walkTokens(i,t.walkTokens),d=Ve.parse(i,t)}catch(h){o=h}return t.highlight=r,o?n(o):n(null,d)};if(!r||r.length<3||(delete t.highlight,!i.length))return u();let c=0;I.walkTokens(i,function(o){o.type==="code"&&(c++,setTimeout(()=>{r(o.text,o.lang,function(d,h){if(d)return u(d);h!=null&&h!==o.text&&(o.text=h,o.escaped=!0),c--,c===0&&u()})},0))}),c===0&&u();return}function s(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+de(r.message+"",!0)+"</pre>";throw r}try{const r=Ae.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(I.walkTokens(r,t.walkTokens)).then(()=>Ve.parse(r,t)).catch(s);I.walkTokens(r,t.walkTokens)}return Ve.parse(r,t)}catch(r){s(r)}}I.options=I.setOptions=function(e){return Se(I.defaults,e),Is(I.defaults),I};I.getDefaults=fn;I.defaults=He;I.use=function(...e){const t=I.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const s=Se({},n);if(s.async=I.defaults.async||s.async,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const i=t.renderers[r.name];i?t.renderers[r.name]=function(...u){let c=r.renderer.apply(this,u);return c===!1&&(c=i.apply(this,u)),c}:t.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[r.level]?t[r.level].unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),s.extensions=t),n.renderer){const r=I.defaults.renderer||new Rt;for(const i in n.renderer){const u=r[i];r[i]=(...c)=>{let o=n.renderer[i].apply(r,c);return o===!1&&(o=u.apply(r,c)),o}}s.renderer=r}if(n.tokenizer){const r=I.defaults.tokenizer||new It;for(const i in n.tokenizer){const u=r[i];r[i]=(...c)=>{let o=n.tokenizer[i].apply(r,c);return o===!1&&(o=u.apply(r,c)),o}}s.tokenizer=r}if(n.walkTokens){const r=I.defaults.walkTokens;s.walkTokens=function(i){let u=[];return u.push(n.walkTokens.call(this,i)),r&&(u=u.concat(r.call(this,i))),u}}I.setOptions(s)})};I.walkTokens=function(e,t){let n=[];for(const s of e)switch(n=n.concat(t.call(I,s)),s.type){case"table":{for(const r of s.header)n=n.concat(I.walkTokens(r.tokens,t));for(const r of s.rows)for(const i of r)n=n.concat(I.walkTokens(i.tokens,t));break}case"list":{n=n.concat(I.walkTokens(s.items,t));break}default:I.defaults.extensions&&I.defaults.extensions.childTokens&&I.defaults.extensions.childTokens[s.type]?I.defaults.extensions.childTokens[s.type].forEach(function(r){n=n.concat(I.walkTokens(s[r],t))}):s.tokens&&(n=n.concat(I.walkTokens(s.tokens,t)))}return n};I.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Se({},I.defaults,t||{}),mn(t);try{const n=Ae.lexInline(e,t);return t.walkTokens&&I.walkTokens(n,t.walkTokens),Ve.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+de(n.message+"",!0)+"</pre>";throw n}};I.Parser=Ve;I.parser=Ve.parse;I.Renderer=Rt;I.TextRenderer=gn;I.Lexer=Ae;I.lexer=Ae.lex;I.Tokenizer=It;I.Slugger=vn;I.parse=I;I.options;I.setOptions;I.use;I.walkTokens;I.parseInline;Ve.parse;Ae.lex;var je={},Gs={get exports(){return je},set exports(e){je=e}},te={},De={},Qs={get exports(){return De},set exports(e){De=e}},Me={};function _n(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Xs(e,t,n){}function Ks(e,t,n){}var Js=/javascript\s*\:/img;function Ys(e,t){return Js.test(t)?"":t}Me.whiteList=_n();Me.getDefaultWhiteList=_n;Me.onAttr=Xs;Me.onIgnoreAttr=Ks;Me.safeAttrValue=Ys;var er={indexOf:function(e,t){var n,s;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,s=e.length;n<s;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var s,r;if(Array.prototype.forEach)return e.forEach(t,n);for(s=0,r=e.length;s<r;s++)t.call(n,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},We=er;function tr(e,t){e=We.trimRight(e),e[e.length-1]!==";"&&(e+=";");var n=e.length,s=!1,r=0,i=0,u="";function c(){if(!s){var h=We.trim(e.slice(r,i)),l=h.indexOf(":");if(l!==-1){var f=We.trim(h.slice(0,l)),a=We.trim(h.slice(l+1));if(f){var m=t(r,u.length,f,a,h);m&&(u+=m+"; ")}}}r=i+1}for(;i<n;i++){var o=e[i];if(o==="/"&&e[i+1]==="*"){var d=e.indexOf("*/",i+2);if(d===-1)break;i=d+1,r=i+1,s=!1}else o==="("?s=!0:o===")"?s=!1:o===";"?s||c():o===`
`&&c()}return We.trim(u)}var nr=tr,st=Me,sr=nr;function Jt(e){return e==null}function rr(e){var t={};for(var n in e)t[n]=e[n];return t}function yn(e){e=rr(e||{}),e.whiteList=e.whiteList||st.whiteList,e.onAttr=e.onAttr||st.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||st.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||st.safeAttrValue,this.options=e}yn.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,s=n.whiteList,r=n.onAttr,i=n.onIgnoreAttr,u=n.safeAttrValue,c=sr(e,function(o,d,h,l,f){var a=s[h],m=!1;if(a===!0?m=a:typeof a=="function"?m=a(l):a instanceof RegExp&&(m=a.test(l)),m!==!0&&(m=!1),l=u(h,l),!!l){var v={position:d,sourcePosition:o,source:f,isWhite:m};if(m){var p=r(h,l,v);return Jt(p)?h+":"+l:p}else{var p=i(h,l,v);if(!Jt(p))return p}}});return c};var ir=yn;(function(e,t){var n=Me,s=ir;function r(u,c){var o=new s(c);return o.process(u)}t=e.exports=r,t.FilterCSS=s;for(var i in n)t[i]=n[i];typeof window<"u"&&(window.filterCSS=e.exports)})(Qs,De);var Ot={indexOf:function(e,t){var n,s;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,s=e.length;n<s;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var s,r;if(Array.prototype.forEach)return e.forEach(t,n);for(s=0,r=e.length;s<r;s++)t.call(n,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},lr=De.FilterCSS,or=De.getDefaultWhiteList,mt=Ot;function bn(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var kn=new lr;function ar(e,t,n){}function cr(e,t,n){}function ur(e,t,n){}function fr(e,t,n){}function wn(e){return e.replace(hr,"&lt;").replace(pr,"&gt;")}function dr(e,t,n,s){if(n=zn(n),t==="href"||t==="src"){if(n=mt.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(t==="background"){if(rt.lastIndex=0,rt.test(n))return""}else if(t==="style"){if(Yt.lastIndex=0,Yt.test(n)||(en.lastIndex=0,en.test(n)&&(rt.lastIndex=0,rt.test(n))))return"";s!==!1&&(s=s||kn,n=s.process(n))}return n=An(n),n}var hr=/</g,pr=/>/g,mr=/"/g,gr=/&quot;/g,vr=/&#([a-zA-Z0-9]*);?/gim,_r=/&colon;?/gim,yr=/&newline;?/gim,rt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Yt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,en=/u\s*r\s*l\s*\(.*/gi;function xn(e){return e.replace(mr,"&quot;")}function $n(e){return e.replace(gr,'"')}function Cn(e){return e.replace(vr,function(n,s){return s[0]==="x"||s[0]==="X"?String.fromCharCode(parseInt(s.substr(1),16)):String.fromCharCode(parseInt(s,10))})}function Sn(e){return e.replace(_r,":").replace(yr," ")}function Vn(e){for(var t="",n=0,s=e.length;n<s;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return mt.trim(t)}function zn(e){return e=$n(e),e=Cn(e),e=Sn(e),e=Vn(e),e}function An(e){return e=xn(e),e=wn(e),e}function br(){return""}function kr(e,t){typeof t!="function"&&(t=function(){});var n=!Array.isArray(e);function s(u){return n?!0:mt.indexOf(e,u)!==-1}var r=[],i=!1;return{onIgnoreTag:function(u,c,o){if(s(u))if(o.isClosing){var d="[/removed]",h=o.position+d.length;return r.push([i!==!1?i:o.position,h]),i=!1,d}else return i||(i=o.position),"[removed]";else return t(u,c,o)},remove:function(u){var c="",o=0;return mt.forEach(r,function(d){c+=u.slice(o,d[0]),o=d[1]}),c+=u.slice(o),c}}}function wr(e){for(var t="",n=0;n<e.length;){var s=e.indexOf("<!--",n);if(s===-1){t+=e.slice(n);break}t+=e.slice(n,s);var r=e.indexOf("-->",s);if(r===-1)break;n=r+3}return t}function xr(e){var t=e.split("");return t=t.filter(function(n){var s=n.charCodeAt(0);return s===127?!1:s<=31?s===10||s===13:!0}),t.join("")}te.whiteList=bn();te.getDefaultWhiteList=bn;te.onTag=ar;te.onIgnoreTag=cr;te.onTagAttr=ur;te.onIgnoreTagAttr=fr;te.safeAttrValue=dr;te.escapeHtml=wn;te.escapeQuote=xn;te.unescapeQuote=$n;te.escapeHtmlEntities=Cn;te.escapeDangerHtml5Entities=Sn;te.clearNonPrintableCharacter=Vn;te.friendlyAttrValue=zn;te.escapeAttrValue=An;te.onIgnoreTagStripAll=br;te.StripTagBody=kr;te.stripCommentTag=wr;te.stripBlankChar=xr;te.cssFilter=kn;te.getDefaultCSSWhiteList=or;var bt={},Te=Ot;function $r(e){var t=Te.spaceIndex(e),n;return t===-1?n=e.slice(1,-1):n=e.slice(1,t+1),n=Te.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function Cr(e){return e.slice(0,2)==="</"}function Sr(e,t,n){var s="",r=0,i=!1,u=!1,c=0,o=e.length,d="",h="";e:for(c=0;c<o;c++){var l=e.charAt(c);if(i===!1){if(l==="<"){i=c;continue}}else if(u===!1){if(l==="<"){s+=n(e.slice(r,c)),i=c,r=c;continue}if(l===">"||c===o-1){s+=n(e.slice(r,i)),h=e.slice(i,c+1),d=$r(h),s+=t(i,s.length,d,h,Cr(h)),r=c+1,i=!1;continue}if(l==='"'||l==="'")for(var f=1,a=e.charAt(c-f);a.trim()===""||a==="=";){if(a==="="){u=l;continue e}a=e.charAt(c-++f)}}else if(l===u){u=!1;continue}}return r<o&&(s+=n(e.substr(r))),s}var Vr=/[^a-zA-Z0-9\\_:.-]/gim;function zr(e,t){var n=0,s=0,r=[],i=!1,u=e.length;function c(f,a){if(f=Te.trim(f),f=f.replace(Vr,"").toLowerCase(),!(f.length<1)){var m=t(f,a||"");m&&r.push(m)}}for(var o=0;o<u;o++){var d=e.charAt(o),h,l;if(i===!1&&d==="="){i=e.slice(n,o),n=o+1,s=e.charAt(n)==='"'||e.charAt(n)==="'"?n:Tr(e,o+1);continue}if(i!==!1&&o===s){if(l=e.indexOf(d,o+1),l===-1)break;h=Te.trim(e.slice(s+1,l)),c(i,h),i=!1,o=l,n=o+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(l=Ar(e,o),l===-1){h=Te.trim(e.slice(n,o)),c(h),i=!1,n=o+1;continue}else{o=l-1;continue}else if(l=Lr(e,o-1),l===-1){h=Te.trim(e.slice(n,o)),h=tn(h),c(i,h),i=!1,n=o+1;continue}else continue}return n<e.length&&(i===!1?c(e.slice(n)):c(i,tn(Te.trim(e.slice(n))))),Te.trim(r.join(" "))}function Ar(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="="?t:-1}}function Tr(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="'"||n==='"'?t:-1}}function Lr(e,t){for(;t>0;t--){var n=e[t];if(n!==" ")return n==="="?t:-1}}function Er(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function tn(e){return Er(e)?e.substr(1,e.length-2):e}bt.parseTag=Sr;bt.parseAttr=zr;var Ir=De.FilterCSS,Ce=te,Tn=bt,Rr=Tn.parseTag,Or=Tn.parseAttr,at=Ot;function it(e){return e==null}function Mr(e){var t=at.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=at.trim(e.slice(t+1,-1));var n=e[e.length-1]==="/";return n&&(e=at.trim(e.slice(0,-1))),{html:e,closing:n}}function Br(e){var t={};for(var n in e)t[n]=e[n];return t}function jr(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(s){return s.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function Ln(e){e=Br(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ce.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=jr(e.whiteList||e.allowList):e.whiteList=Ce.whiteList,e.onTag=e.onTag||Ce.onTag,e.onTagAttr=e.onTagAttr||Ce.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ce.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ce.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ce.safeAttrValue,e.escapeHtml=e.escapeHtml||Ce.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Ir(e.css))}Ln.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,s=n.whiteList,r=n.onTag,i=n.onIgnoreTag,u=n.onTagAttr,c=n.onIgnoreTagAttr,o=n.safeAttrValue,d=n.escapeHtml,h=t.cssFilter;n.stripBlankChar&&(e=Ce.stripBlankChar(e)),n.allowCommentTag||(e=Ce.stripCommentTag(e));var l=!1;n.stripIgnoreTagBody&&(l=Ce.StripTagBody(n.stripIgnoreTagBody,i),i=l.onIgnoreTag);var f=Rr(e,function(a,m,v,p,y){var w={sourcePosition:a,position:m,isClosing:y,isWhite:Object.prototype.hasOwnProperty.call(s,v)},O=r(v,p,w);if(!it(O))return O;if(w.isWhite){if(w.isClosing)return"</"+v+">";var ue=Mr(p),z=s[v],x=Or(ue.html,function(ne,fe){var ve=at.indexOf(z,ne)!==-1,ke=u(v,ne,fe,ve);return it(ke)?ve?(fe=o(v,ne,fe,h),fe?ne+'="'+fe+'"':ne):(ke=c(v,ne,fe,ve),it(ke)?void 0:ke):ke});return p="<"+v,x&&(p+=" "+x),ue.closing&&(p+=" /"),p+=">",p}else return O=i(v,p,w),it(O)?d(p):O},d);return l&&(f=l.remove(f)),f};var Ur=Ln;(function(e,t){var n=te,s=bt,r=Ur;function i(c,o){var d=new r(o);return d.process(c)}t=e.exports=i,t.filterXSS=i,t.FilterXSS=r,function(){for(var c in n)t[c]=n[c];for(var o in s)t[o]=s[o]}(),typeof window<"u"&&(window.filterXSS=e.exports);function u(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}u()&&(self.filterXSS=e.exports)})(Gs,je);var Pr=Object.defineProperty,En=(e,t)=>Pr(e,"name",{value:t,configurable:!0}),Dr=["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],Hr=["img","br","hr","area","base","basefont","input","link","meta"],Fr=["http:","https:","mailto:","tel:"];function In(e){try{const t=new URL(e,location.toString());return Fr.includes(t.protocol)}catch{return!1}}En(In,"checkUrl");function Rn(e){const t={...Object.fromEntries(Dr.map(s=>[s,[]]))},n=[];for(e=je.filterXSS(e,{whiteList:t,stripIgnoreTag:!0,onTag(s,r,i){let u;if(s==="a"&&!i.isClosing){const o={};je.parseAttr(r.slice(3),(d,h)=>(d==="href"?o[d]=In(h)?h:"#":d==="title"&&(o[d]=je.escapeAttrValue(h)),"")),o.rel="noopener noreferrer",o.target="_blank",u=`<a ${Object.entries(o).map(([d,h])=>`${d}="${h}"`).join(" ")}>`}if(r.endsWith("/>")||Hr.includes(s))return;if(!i.isClosing)return n.push(s),u;let c="";for(;n.length;){const o=n.pop();if(o===s)return c+r;c+=`</${o}>`}return r.replace(/</g,"&lt;").replace(/>/g,"&gt;")}});n.length;){const s=n.pop();e+=`</${s}>`}return e}En(Rn,"sanitize");var Nr=N({props:{source:String,inline:Boolean,tag:String,unsafe:Boolean},setup(e){let t=e.inline?I.parseInline(e.source||""):I.parse(e.source||"");return e.unsafe||(t=Rn(t)),()=>{const n=e.tag||(e.inline?"span":"div");return ye(n,{class:"markdown",innerHTML:t})}}});const qr=["onClick","title"],Wr=N({__name:"k-button",props:{type:{type:String,default:"primary"},solid:Boolean,frameless:Boolean,title:String,round:Boolean,disabled:Boolean},emits:["click"],setup(e,{emit:t}){const n=e;function s(r){n.disabled||t("click",r)}return(r,i)=>(g(),_("button",{onClick:Be(s,["prevent"]),title:e.disabled?"":e.title,class:le(["k-button",e.type,{disabled:e.disabled,solid:e.solid,round:e.round,frameless:e.frameless}])},[U(r.$slots,"default")],10,qr))}});const Zr={key:1,class:"k-filter-expr"},Gr=N({__name:"k-filter-expr",props:{modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=K(),r=K(),i=K(),u={userId:"用户 ID",guildId:"群组 ID",channelId:"频道 ID",selfId:"机器人 ID",platform:"平台","user.authority":"用户权限"},c={$in:"属于",$nin:"不属于",$eq:"等于",$ne:"不等于",$gt:"大于",$lt:"小于",$gte:"不小于",$lte:"不大于"},o=Z(()=>s.value==="user.authority"?["$eq","$ne","$gt","$lt","$gte","$lte"]:s.value?["$eq","$ne","$in","$nin"]:[]);ce(()=>n.modelValue,()=>{r.value=Object.keys(n.modelValue)[0];const h=n.modelValue[r.value];h&&(s.value=h[0].$,i.value=Array.isArray(h[1])?h[1].join(", "):s.value==="user.authority"?+h[1]:h[1])},{immediate:!0});const d=Z(()=>s.value==="user.authority"?"number":"string");return ce(s,()=>{i.value=null,o.value.includes(r.value)||(r.value=o.value[0])}),ce([s,r,i],([h,l,f])=>{if(!u[h]||!c[l]||!f)return;let a=f;["$in","$nin"].includes(l)?a=f.split(/\s*,\s*/g).filter(Boolean):h==="user.authority"&&(a=+f),t("update:modelValue",{[l]:[{$:h},a]})}),(h,l)=>{const f=E("el-option"),a=E("el-select"),m=E("el-input");return r.value&&!c[r.value]?(g(),_(H,{key:0},[G(" 无法解析的此处的表达式。 ")],64)):(g(),_("div",Zr,[V(a,{class:"entity",disabled:e.disabled,modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=v=>s.value=v)},{default:k(()=>[(g(),_(H,null,ge(u,(v,p)=>V(f,{key:p,label:v,value:p},null,8,["label","value"])),64))]),_:1},8,["disabled","modelValue"]),V(a,{class:"operator",disabled:e.disabled,modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=v=>r.value=v)},{default:k(()=>[(g(!0),_(H,null,ge($(o),v=>(g(),j(f,{key:v,label:c[v],value:v},null,8,["label","value"]))),128))]),_:1},8,["disabled","modelValue"]),(g(),j(m,{disabled:e.disabled,key:$(d),type:$(d),class:"value",modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=v=>i.value=v)},null,8,["disabled","type","modelValue"]))]))}}});const Qr={key:0},Xr={key:1,class:"k-filter"},On=N({__name:"k-filter",props:{modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=Z(()=>n.modelValue?Array.isArray(n.modelValue.$and)?n.modelValue.$and:[n.modelValue]:[]);function r(u,c){const o=s.value.slice();o[c]=u,o.length===1?t("update:modelValue",o[0]):t("update:modelValue",{$and:o})}function i(u){const c=s.value.slice();c.splice(u,1),c.length===0?t("update:modelValue",void 0):c.length===1?t("update:modelValue",c[0]):t("update:modelValue",{$and:c})}return(u,c)=>{const o=E("k-icon"),d=E("el-button"),h=E("k-button");return $(s)?(g(),_("div",Xr,[(g(!0),_(H,null,ge($(s),(l,f)=>(g(),_("div",{class:"k-filter-item",key:f},[V(d,{disabled:e.disabled,onClick:a=>i(f)},{default:k(()=>[V(o,{name:"delete"})]),_:2},1032,["disabled","onClick"]),V(Gr,{disabled:e.disabled,modelValue:l,"onUpdate:modelValue":a=>r(a,f)},null,8,["disabled","modelValue","onUpdate:modelValue"])]))),128)),b("div",null,[V(h,{onClick:c[0]||(c[0]=l=>r({},$(s).length))},{default:k(()=>[G("添加条件")]),_:1})])])):(g(),_("p",Qr,"无法解析过滤器。"))}}});const Kr=N({__name:"k-filter-button",props:{modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=K(!1),r=Z({get:()=>n.modelValue,set:d=>t("update:modelValue",d)}),i={userId:"用户 ID",guildId:"群组 ID",channelId:"频道 ID",selfId:"机器人 ID",platform:"平台","user.authority":"用户权限"},u={$in:"属于",$nin:"不属于",$eq:"等于",$ne:"不等于",$gt:"大于",$lt:"小于",$gte:"不小于",$lte:"不大于"};function c(d){if(!d)return"";if(d.$and)return d.$and.map(c).filter(Boolean).join(" 且 ");if(d.$or)return d.$or.map(c).filter(Boolean).join(" 或 ");{const h=Object.keys(d)[0];if(!d[h])return"";const[l,f]=d[h];return`${i[l.$]} ${u[h]} ${f}`}}const o=Z(()=>c(r.value)||"无");return(d,h)=>{const l=E("el-dialog");return g(),_(H,null,[b("span",{class:"k-filter-button",onClick:h[0]||(h[0]=f=>s.value=!0)},ee($(o)),1),V(l,{modelValue:s.value,"onUpdate:modelValue":h[2]||(h[2]=f=>s.value=f),"destroy-on-close":""},{header:k(()=>[G("条件设置")]),default:k(()=>[V(On,{modelValue:$(r),"onUpdate:modelValue":h[1]||(h[1]=f=>$e(r)?r.value=f:null),disabled:e.disabled},null,8,["modelValue","disabled"])]),_:1},8,["modelValue"])],64)}}});var Jr=Object.defineProperty,F=(e,t)=>Jr(e,"name",{value:t,configurable:!0});function Yr(){}F(Yr,"noop");function se(e){return e==null}F(se,"isNullable");function Ze(e){return e&&typeof e=="object"&&!Array.isArray(e)}F(Ze,"isPlainObject");function Ue(e,t){return Object.fromEntries(Object.entries(e).map(([n,s])=>[n,t(s,n)]))}F(Ue,"valueMap");function Je(e,t){return e in globalThis&&t instanceof globalThis[e]||Object.prototype.toString.call(t).slice(8,-1)===e}F(Je,"is");function Ie(e){return!e||typeof e!="object"?e:Array.isArray(e)?e.map(Ie):Je("Date",e)?new Date(e.valueOf()):Je("RegExp",e)?new RegExp(e.source,e.flags):Ue(e,Ie)}F(Ie,"clone");function Re(e,t,n){return e===t||!n&&se(e)&&se(t)?!0:typeof e!=typeof t||typeof e!="object"||!e||!t?!1:Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((s,r)=>Re(s,t[r])):Array.isArray(t)?!1:Object.keys({...e,...t}).every(s=>Re(e[s],t[s]))}F(Re,"deepEqual");function Mn(e,t,n){if(!t)return{...e};const s={};for(const r of t)(n||r in e)&&(s[r]=e[r]);return s}F(Mn,"pick");function Bn(e,t){if(!t)return{...e};const n={...e};for(const s of t)Reflect.deleteProperty(n,s);return n}F(Bn,"omit");function be(e,t,n){return Object.defineProperty(e,t,{writable:!0,value:n})}F(be,"defineProperty");function ei(e,t){return t.every(n=>e.includes(n))}F(ei,"contain");function ti(e,t){return e.filter(n=>t.includes(n))}F(ti,"intersection");function ni(e,t){return e.filter(n=>!t.includes(n))}F(ni,"difference");function si(e,t){return Array.from(new Set([...e,...t]))}F(si,"union");function ri(e){return[...new Set(e)]}F(ri,"deduplicate");function Ee(e,t){const n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1}F(Ee,"remove");function jn(e){return Array.isArray(e)?e:se(e)?[]:[e]}F(jn,"makeArray");function Un(e){if(typeof Buffer<"u")return Buffer.from(e).toString("base64");let t="";const n=new Uint8Array(e);for(let s=0;s<n.byteLength;s++)t+=String.fromCharCode(n[s]);return btoa(t)}F(Un,"arrayBufferToBase64");function ii(e){if(typeof Buffer<"u")return Buffer.from(e,"base64").buffer;const t=atob(e.replace(/\s/g,"")),n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}F(ii,"base64ToArrayBuffer");function li(e){return e.charAt(0).toUpperCase()+e.slice(1)}F(li,"capitalize");function Mt(e){return e.charAt(0).toLowerCase()+e.slice(1)}F(Mt,"uncapitalize");function Pn(e){return e.replace(/[_-][a-z]/g,t=>t.slice(1).toUpperCase())}F(Pn,"camelCase");function Dn(e){return Mt(e).replace(/_/g,"-").replace(/.[A-Z]+/g,t=>t[0]+"-"+t.slice(1).toLowerCase())}F(Dn,"paramCase");function oi(e){return Mt(e).replace(/-/g,"_").replace(/.[A-Z]+/g,t=>t[0]+"_"+t.slice(1).toLowerCase())}F(oi,"snakeCase");var lt=Pn,ai=Dn;function Hn(e){return e.replace(/\/$/,"")}F(Hn,"trimSlash");function ci(e){return e.startsWith("/")||(e="/"+e),Hn(e)}F(ci,"sanitize");var nn;(e=>{e.millisecond=1,e.second=1e3,e.minute=e.second*60,e.hour=e.minute*60,e.day=e.hour*24,e.week=e.day*7;let t=new Date().getTimezoneOffset();function n(a){t=a}e.setTimezoneOffset=n,F(n,"setTimezoneOffset");function s(){return t}e.getTimezoneOffset=s,F(s,"getTimezoneOffset");function r(a=new Date,m){return typeof a=="number"&&(a=new Date(a)),m===void 0&&(m=t),Math.floor((a.valueOf()/e.minute-m)/1440)}e.getDateNumber=r,F(r,"getDateNumber");function i(a,m){const v=new Date(a*e.day);return m===void 0&&(m=t),new Date(+v+m*e.minute)}e.fromDateNumber=i,F(i,"fromDateNumber");const u=/\d+(?:\.\d+)?/.source,c=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(a=>`(${u}${a})?`).join("")}$`);function o(a){const m=c.exec(a);return m?(parseFloat(m[1])*e.week||0)+(parseFloat(m[2])*e.day||0)+(parseFloat(m[3])*e.hour||0)+(parseFloat(m[4])*e.minute||0)+(parseFloat(m[5])*e.second||0):0}e.parseTime=o,F(o,"parseTime");function d(a){const m=o(a);return m?a=Date.now()+m:/^\d{1,2}(:\d{1,2}){1,2}$/.test(a)?a=`${new Date().toLocaleDateString()}-${a}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(a)&&(a=`${new Date().getFullYear()}-${a}`),a?new Date(a):new Date}e.parseDate=d,F(d,"parseDate");function h(a){const m=Math.abs(a);return m>=e.day-e.hour/2?Math.round(a/e.day)+"d":m>=e.hour-e.minute/2?Math.round(a/e.hour)+"h":m>=e.minute-e.second/2?Math.round(a/e.minute)+"m":m>=e.second?Math.round(a/e.second)+"s":a+"ms"}e.format=h,F(h,"format");function l(a,m=2){return a.toString().padStart(m,"0")}e.toDigits=l,F(l,"toDigits");function f(a,m=new Date){return a.replace("yyyy",m.getFullYear().toString()).replace("yy",m.getFullYear().toString().slice(2)).replace("MM",l(m.getMonth()+1)).replace("dd",l(m.getDate())).replace("hh",l(m.getHours())).replace("mm",l(m.getMinutes())).replace("ss",l(m.getSeconds())).replace("SSS",l(m.getMilliseconds(),3))}e.template=f,F(f,"template")})(nn||(nn={}));var ui=Object.defineProperty,fi=Object.getOwnPropertyNames,ae=(e,t)=>ui(e,"name",{value:t,configurable:!0}),di=(e,t)=>function(){return t||(0,e[fi(e)[0]])((t={exports:{}}).exports,t),t.exports},hi=di({"packages/core/src/index.ts"(e,t){var n=Symbol.for("schemastery");globalThis.__schemastery_index__??(globalThis.__schemastery_index__=0);var s=ae(function(l){const f=ae(function(a){return s.resolve(a,f)[0]},"schema");if(l.refs){const a=Ue(l.refs,v=>new s(v)),m=ae(v=>a[v],"getRef");for(const v in a){const p=a[v];p.sKey=m(p.sKey),p.inner=m(p.inner),p.list=p.list&&p.list.map(m),p.dict=p.dict&&Ue(p.dict,m)}return a[l.uid]}return Object.assign(f,l),Object.defineProperty(f,"uid",{value:globalThis.__schemastery_index__++}),Object.setPrototypeOf(f,s.prototype),f.meta||(f.meta={}),f.toString=f.toString.bind(f),f},"Schema");s.prototype=Object.create(Function.prototype),s.prototype[n]=!0;var r;s.prototype.toJSON=ae(function(){var a;if(r)return r[a=this.uid]??(r[a]=JSON.parse(JSON.stringify({...this}))),this.uid;r={[this.uid]:{...this}},r[this.uid]=JSON.parse(JSON.stringify({...this}));const f={uid:this.uid,refs:r};return r=void 0,f},"toJSON"),s.prototype.set=ae(function(f,a){return this.dict[f]=a,this},"set"),s.prototype.push=ae(function(f){return this.list.push(f),this},"push");for(const l of["required","hidden"])Object.assign(s.prototype,{[l](f=!0){const a=s(this);return a.meta={...a.meta,[l]:f},a}});s.prototype.pattern=ae(function(f){const a=s(this),m=Mn(f,["source","flags"]);return a.meta={...a.meta,pattern:m},a},"pattern"),s.prototype.simplify=ae(function(f){if(Re(f,this.meta.default))return null;if(this.type==="object"||this.type==="dict"){const a={};for(const m in f){const v=this.type==="object"?this.dict[m]:this.inner,p=v==null?void 0:v.simplify(f[m]);se(p)||(a[m]=p)}return a}else if(this.type==="array"||this.type==="tuple"){const a=[];for(const m of f){const v=this.type==="array"?this.inner:this.list[m],p=v?v.simplify(f[m]):f[m];a.push(p)}return a}else if(this.type==="intersect"){const a={};for(const m of this.list)Object.assign(a,m.simplify(f));return a}else if(this.type==="union")for(const a of this.list)try{return s.resolve(f,a),a.simplify(f)}catch{}return f},"simplify"),s.prototype.toString=ae(function(f){var a;return((a=d[this.type])==null?void 0:a.call(d,this,f))??(console.log(this),`Schema<${this.type}>`)},"toString");for(const l of["default","role","link","comment","description","max","min","step"])Object.assign(s.prototype,{[l](f){const a=s(this);return a.meta={...a.meta,[l]:f},a}});var i={};s.extend=ae(function(f,a){i[f]=a},"extend"),s.resolve=ae(function(f,a,m){if(!a)return[f];if(se(f)){if(a.meta.required)throw new TypeError("missing required value");const p=a.meta.default;if(se(p))return[f];f=Ie(p)}const v=i[a.type];if(v)return v(f,a,m);throw new TypeError(`unsupported type "${a.type}"`)},"resolve"),s.from=ae(function(f){if(se(f))return s.any();if(["string","number","boolean"].includes(typeof f))return s.const(f).required();if(f[n])return f;if(typeof f=="function")switch(f){case String:return s.string().required();case Number:return s.number().required();case Boolean:return s.boolean().required();case Function:return s.function().required();default:return s.is(f).required()}else throw new TypeError(`cannot infer schema from ${f}`)},"from"),s.natural=ae(function(){return s.number().step(1).min(0)},"natural"),s.percent=ae(function(){return s.number().step(.01).min(0).max(1).role("slider")},"percent"),s.date=ae(function(){return s.union([s.is(Date),s.transform(s.string().role("datetime"),f=>{const a=new Date(f);if(isNaN(+a))throw new TypeError(`invalid date "${f}"`);return a},!0)])},"date"),s.extend("any",l=>[l]),s.extend("never",l=>{throw new TypeError(`expected nullable but got ${l}`)}),s.extend("const",(l,{value:f})=>{if(l===f)return[f];throw new TypeError(`expected ${f} but got ${l}`)});function u(l,f,a){const{max:m=1/0,min:v=-1/0}=f;if(l>m)throw new TypeError(`expected ${a} <= ${m} but got ${l}`);if(l<v)throw new TypeError(`expected ${a} >= ${v} but got ${l}`)}ae(u,"checkWithinRange"),s.extend("string",(l,{meta:f})=>{if(typeof l!="string")throw new TypeError(`expected string but got ${l}`);if(f.pattern){const a=new RegExp(f.pattern.source,f.pattern.flags);if(!a.test(l))throw new TypeError(`expect string to match regexp ${a}`)}return u(l.length,f,"string length"),[l]}),s.extend("number",(l,{meta:f})=>{if(typeof l!="number")throw new TypeError(`expected number but got ${l}`);u(l,f,"number");const{step:a}=f;if(a){const m=Math.abs(l-(f.min??0))%a;if(m>=Number.EPSILON&&m<a-Number.EPSILON)throw new TypeError(`expected number multiple of ${a} but got ${l}`)}return[l]}),s.extend("boolean",l=>{if(typeof l=="boolean")return[l];throw new TypeError(`expected boolean but got ${l}`)}),s.extend("bitset",(l,{bits:f})=>{if(typeof l=="number")return[l];if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);let a=0;for(const m of l){if(typeof m!="string")throw new TypeError(`expected string but got ${m}`);if(!(m in f))throw new TypeError(`unknown value ${m}`);a|=f[m]}return[a,a]}),s.extend("function",l=>{if(typeof l=="function")return[l];throw new TypeError(`expected function but got ${l}`)}),s.extend("is",(l,{callback:f})=>{if(l instanceof f)return[l];throw new TypeError(`expected ${f.name} but got ${l}`)});function c(l,f,a){const[m,v]=s.resolve(l[f],a);return se(v)||(l[f]=v),m}ae(c,"property"),s.extend("array",(l,{inner:f,meta:a})=>{if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);return u(l.length,a,"array length"),[l.map((m,v)=>c(l,v,f))]}),s.extend("dict",(l,{inner:f,sKey:a},m)=>{if(!Ze(l))throw new TypeError(`expected object but got ${l}`);const v={};for(const p in l){let y;try{y=s.resolve(p,a)[0]}catch(w){if(m)continue;throw w}v[y]=c(l,p,f),l[y]=l[p],p!==y&&delete l[p]}return[v]}),s.extend("tuple",(l,{list:f},a)=>{if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);const m=f.map((v,p)=>c(l,p,v));return a?[m]:(m.push(...l.slice(f.length)),[m])});function o(l,f){for(const a in f)a in l||(l[a]=f[a])}ae(o,"merge"),s.extend("object",(l,{dict:f},a)=>{if(!Ze(l))throw new TypeError(`expected object but got ${l}`);const m={};for(const v in f){const p=c(l,v,f[v]);(!se(p)||v in l)&&(m[v]=p)}return a||o(m,l),[m]}),s.extend("union",(l,{list:f,toString:a})=>{for(const m of f)try{return s.resolve(l,m)}catch{}throw new TypeError(`expected ${a()} but got ${JSON.stringify(l)}`)}),s.extend("intersect",(l,{list:f,toString:a},m)=>{let v;for(const p of f){const y=s.resolve(l,p,!0)[0];if(!se(y))if(se(v))v=y;else{if(typeof v!=typeof y)throw new TypeError(`expected ${a()} but got ${JSON.stringify(l)}`);if(typeof y=="object")v={...v,...y};else if(v!==y)throw new TypeError(`expected ${a()} but got ${JSON.stringify(l)}`)}}return!m&&Ze(l)&&o(v,l),[v]}),s.extend("transform",(l,{inner:f,callback:a,preserve:m})=>{const[v,p=l]=s.resolve(l,f,!0);if(Ze(l)){const y={};for(const w in v)w in l&&(y[w]=l[w],delete l[w]);return Object.assign(l,a(y)),[a(v)]}else return m?[a(v)]:[a(v),a(p)]});var d={};function h(l,f,a){d[l]=a,Object.assign(s,{[l](...m){const v=new s({type:l});return f.forEach((p,y)=>{switch(p){case"sKey":v.sKey=m[y]??s.string();break;case"inner":v.inner=s.from(m[y]);break;case"list":v.list=m[y].map(s.from);break;case"dict":v.dict=Ue(m[y],s.from);break;case"bits":{v.bits={};for(const w in m[y])typeof m[y][w]=="number"&&(v.bits[w]=m[y][w]);break}default:v[p]=m[y]}}),l==="object"||l==="dict"?v.meta.default={}:l==="array"||l==="tuple"?v.meta.default=[]:l==="bitset"&&(v.meta.default=0),v}})}ae(h,"defineMethod"),h("is",["callback"],({callback:l})=>l.name),h("any",[],()=>"any"),h("never",[],()=>"never"),h("const",["value"],({value:l})=>typeof l=="string"?JSON.stringify(l):l),h("string",[],()=>"string"),h("number",[],()=>"number"),h("boolean",[],()=>"boolean"),h("bitset",["bits"],()=>"bitset"),h("function",[],()=>"function"),h("array",["inner"],({inner:l})=>`${l.toString(!0)}[]`),h("dict",["inner","sKey"],({inner:l,sKey:f})=>`{ [key: ${f.toString()}]: ${l.toString()} }`),h("tuple",["list"],({list:l})=>`[${l.map(f=>f.toString()).join(", ")}]`),h("object",["dict"],({dict:l})=>Object.keys(l).length===0?"{}":`{ ${Object.entries(l).map(([f,a])=>`${f}${a.meta.required?"":"?"}: ${a.toString()}`).join(", ")} }`),h("union",["list"],({list:l},f)=>{const a=l.map(({toString:m})=>m()).join(" | ");return f?`(${a})`:a}),h("intersect",["list"],({list:l})=>`${l.map(f=>f.toString(!0)).join(" & ")}`),h("transform",["inner","callback","preserve"],({inner:l},f)=>l.toString(f)),t.exports=s}});const Ge=hi(),sn=["string","number","boolean","bitset","const"],pi=["function","transform","is"],Fn=["array","dict"];function gt(e){return e.type==="object"?!0:e.type==="intersect"?e.list.every(gt):e.type==="union"?et(e).every(gt):!1}function et(e){const t=[],n=e.list.filter(s=>{if(!s.meta.hidden)return s.type==="transform"&&t.push(s.inner),!pi.includes(s.type)});return n.length?n:t}function vt(e,t=!1){if(!(!e||e.type==="union"&&et(e).length===1))return Ie(e.meta.default)??(t?mi(e):void 0)}function mi(e){if(e.type==="string")return"";if(e.type==="number")return 0;if(e.type==="boolean")return!1;if(["dict","object","intersect"].includes(e.type))return{}}function Ke(e){if(!e||e.meta.hidden)return!0;if(e.type==="object")return Object.values(e.dict).every(Ke);if(e.type==="intersect")return e.list.every(gt);if(e.type==="union"){const t=et(e);return t.length===1||t.every(n=>Ke(n))}else return Fn.includes(e.type)?Ke(e.inner):e.type==="tuple"?e.list.every(t=>sn.includes(t.type)):e.type==="any"?["filter"].includes(e.meta.role):sn.includes(e.type)}function ct(e,t){if(!e)return!0;if(e.type==="object"){if(e.meta.description)return!0;const n=Object.keys(e.dict);return n.length?ct(e.dict[n[0]]):!0}else{if(e.type==="intersect")return ct(e.list[0]);if(e.type==="union"){const n=et(e);return n.length===1?ct(n[0]):!1}else return!!(t&&Fn.includes(e.type)&&Ke(e.inner))}}const R=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},gi={},vi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},_i=b("path",{fill:"currentColor",d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"},null,-1),yi=[_i];function bi(e,t){return g(),_("svg",vi,yi)}const ki=R(gi,[["render",bi]]),wi={},xi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},$i=b("path",{fill:"currentColor",d:"M120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200C94.93 200 120 225.1 120 256zM280 256C280 286.9 254.9 312 224 312C193.1 312 168 286.9 168 256C168 225.1 193.1 200 224 200C254.9 200 280 225.1 280 256zM328 256C328 225.1 353.1 200 384 200C414.9 200 440 225.1 440 256C440 286.9 414.9 312 384 312C353.1 312 328 286.9 328 256z"},null,-1),Ci=[$i];function Si(e,t){return g(),_("svg",xi,Ci)}const Vi=R(wi,[["render",Si]]),zi={},Ai={class:"k-icon k-icon-external",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ti=b("path",{fill:"currentColor",d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},null,-1),Li=[Ti];function Ei(e,t){return g(),_("svg",Ai,Li)}const Nn=R(zi,[["render",Ei]]),Ii={},Ri={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},Oi=b("path",{fill:"currentColor",d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},null,-1),Mi=[Oi];function Bi(e,t){return g(),_("svg",Ri,Mi)}const qn=R(Ii,[["render",Bi]]),ji={},Ui={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Pi=b("path",{fill:"currentColor",d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},null,-1),Di=[Pi];function Hi(e,t){return g(),_("svg",Ui,Di)}const Wn=R(ji,[["render",Hi]]),Fi=N({__name:"bit",props:{label:null,value:null,modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=Z({get:()=>!!(n.modelValue&n.value),set:()=>{t("update:modelValue",n.modelValue^n.value)}});return(r,i)=>{const u=E("el-checkbox");return g(),j(u,{modelValue:$(s),"onUpdate:modelValue":i[0]||(i[0]=c=>$e(s)?s.value=c:null),disabled:e.disabled},{default:k(()=>[G(ee(e.label),1)]),_:1},8,["modelValue","disabled"])}}}),Ni={key:0,class:"actions"},qi={class:"header"},Wi={class:"left"},Zi=b("svg",{class:"trigger",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[b("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"})],-1),Gi={class:"right"},Zn=N({__name:"item",props:{disabled:{type:Boolean}},emits:["command"],setup(e){const t=K(!1);return(n,s)=>{const r=E("el-dropdown-menu"),i=E("el-dropdown");return g(),_("div",{class:le(["schema-item",{visible:t.value}])},[e.disabled?X("",!0):(g(),_("div",Ni)),b("div",qi,[b("div",Wi,[b("h3",null,[U(n.$slots,"header"),V(i,{placement:"bottom",onCommand:s[0]||(s[0]=u=>n.$emit("command",u)),onVisibleChange:s[1]||(s[1]=u=>t.value=u)},{dropdown:k(()=>[V(r,null,{default:k(()=>[U(n.$slots,"menu")]),_:3})]),default:k(()=>[Zi]),_:3})]),U(n.$slots,"description")]),b("div",Gi,[U(n.$slots,"right")])]),U(n.$slots,"default")],2)}}});const Qi={class:"prefix"},Xi={class:"k-schema-group"},Ki={class:"prefix"},Ji={class:"prefix"},rn=N({__name:"group",props:{schema:{},modelValue:{},initial:{},prefix:String,disabled:Boolean,instant:Boolean,signal:Boolean},emits:["update:modelValue","update:signal"],setup(e,{emit:t}){const n=e;function s(c,o){if(c==="down")if(n.schema.type==="dict")r.value.splice(o+1,0,...r.value.splice(o,1));else{const d=r.value[o][1];r.value[o][1]=r.value[o+1][1],r.value[o+1][1]=d}else if(c==="up")if(n.schema.type==="dict")r.value.splice(o-1,0,...r.value.splice(o,1));else{const d=r.value[o][1];r.value[o][1]=r.value[o-1][1],r.value[o-1][1]=d}else c==="delete"?r.value.splice(o,1):c==="add"&&r.value.push(["",vt(n.schema.inner,!0)])}const r=K();let i;ce(()=>n.modelValue,c=>{i==null||i(),r.value=Object.entries(c||{}),i=u()},{immediate:!0,deep:!0}),ce(()=>n.signal,c=>{c&&(s("add"),t("update:signal",!1))});function u(){return ce(r,()=>{if(n.schema.type==="dict"){const c={};for(const[o,d]of r.value){if(o in c)return;c[o]=d}t("update:modelValue",c)}else t("update:modelValue",r.value.map(([,c])=>c))},{deep:!0})}return(c,o)=>{const d=E("el-input"),h=E("k-markdown"),l=E("el-dropdown-item"),f=E("k-schema");return g(!0),_(H,null,ge(r.value,([a,m],v)=>{var p,y;return g(),_(H,{key:v},[$(gt)(e.schema.inner)?(g(),_(H,{key:0},[V(Zn,{onCommand:w=>s(w,v),class:le({invalid:r.value.filter(w=>w[0]===a).length>1})},ft({description:k(()=>[V(h,{source:e.schema.inner.meta.description},null,8,["source"])]),menu:k(()=>[V(l,{divided:"",disabled:!v,command:"up"},{default:k(()=>[G("上移")]),_:2},1032,["disabled"]),V(l,{disabled:v===r.value.length-1,command:"down"},{default:k(()=>[G("下移")]),_:2},1032,["disabled"]),V(l,{command:"delete"},{default:k(()=>[G("删除")]),_:1})]),_:2},[e.schema.type==="array"?{name:"header",fn:k(()=>[b("span",Qi,ee(e.prefix.slice(0,-1)),1),b("span",null,"["+ee(a)+"]",1)]),key:"0"}:{name:"header",fn:k(()=>[b("span",{class:"prefix"},ee(e.prefix),1),V(d,{modelValue:r.value[v][0],"onUpdate:modelValue":w=>r.value[v][0]=w},null,8,["modelValue","onUpdate:modelValue"])]),key:"1"}]),1032,["onCommand","class"]),b("div",Xi,[V(f,{modelValue:r.value[v][1],"onUpdate:modelValue":w=>r.value[v][1]=w,initial:(p=e.initial)==null?void 0:p[a],schema:{...e.schema.inner,meta:{...e.schema.inner.meta,description:""}},disabled:e.disabled,instant:e.instant,prefix:e.schema.type==="array"?`${e.prefix.slice(0,-1)}[${a}].`:e.prefix+a+"."},{default:k(()=>[b("span",Ki,ee(e.prefix),1),b("span",null,ee(a),1)]),_:2},1032,["modelValue","onUpdate:modelValue","initial","schema","disabled","instant","prefix"])])],64)):(g(),j(f,{key:1,modelValue:r.value[v][1],"onUpdate:modelValue":w=>r.value[v][1]=w,invalid:r.value.filter(w=>w[0]===a).length>1,initial:(y=e.initial)==null?void 0:y[a],schema:e.schema.inner,disabled:e.disabled,instant:e.instant,prefix:e.schema.type==="array"?`${e.prefix.slice(0,-1)}[${a}].`:e.prefix+a+".",onCommand:w=>s(w,v)},ft({menu:k(()=>[V(l,{divided:"",disabled:!v,command:"up"},{default:k(()=>[G("上移")]),_:2},1032,["disabled"]),V(l,{disabled:v===r.value.length-1,command:"down"},{default:k(()=>[G("下移")]),_:2},1032,["disabled"]),V(l,{command:"delete"},{default:k(()=>[G("删除")]),_:1})]),_:2},[e.schema.type==="array"?{name:"default",fn:k(()=>[b("span",Ji,ee(e.prefix.slice(0,-1)),1),b("span",null,"["+ee(a)+"]",1)]),key:"0"}:{name:"default",fn:k(()=>[b("span",{class:"prefix"},ee(e.prefix),1),V(d,{modelValue:r.value[v][0],"onUpdate:modelValue":w=>r.value[v][0]=w},null,8,["modelValue","onUpdate:modelValue"])]),key:"1"}]),1032,["modelValue","onUpdate:modelValue","invalid","initial","schema","disabled","instant","prefix","onCommand"]))],64)}),128)}}});const Yi={key:0,class:"schema-table"},el={key:0,class:"key"},tl={class:"close"},nl=["onClick"],sl=N({__name:"table",props:{schema:null,signal:{type:Boolean},modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue","update:signal"],setup(e,{emit:t}){const n=e;ce(()=>n.signal,o=>{o&&(r(),t("update:signal",!1))});const s=K();function r(){s.value.push(["",vt(n.schema.inner,!0)])}function i(o){n.disabled||s.value.splice(o,1)}let u;ce(()=>n.modelValue,o=>{u==null||u(),s.value=Object.entries(o||{}),u=c()},{immediate:!0,deep:!0});function c(){return ce(s,()=>{if(n.schema.type==="dict"){const o={};for(const[d,h]of s.value){if(d in o)return;o[d]=h}t("update:modelValue",o)}else t("update:modelValue",s.value.map(([,o])=>o))},{deep:!0})}return(o,d)=>{const h=E("el-input");return s.value.length?(g(),_("table",Yi,[(g(!0),_(H,null,ge(s.value,([l],f)=>(g(),_("tr",null,[e.schema.type==="dict"?(g(),_("td",el,[V(h,{modelValue:s.value[f][0],"onUpdate:modelValue":a=>s.value[f][0]=a,disabled:e.disabled,class:le({invalid:s.value.filter(a=>a[0]===l).length>1})},null,8,["modelValue","onUpdate:modelValue","disabled","class"])])):X("",!0),b("td",null,[V(h,{modelValue:s.value[f][1],"onUpdate:modelValue":a=>s.value[f][1]=a,disabled:e.disabled,type:e.schema.inner.type==="number"?"number":"text",max:e.schema.inner.meta.max,min:e.schema.inner.meta.min,step:e.schema.inner.meta.step},null,8,["modelValue","onUpdate:modelValue","disabled","type","max","min","step"])]),b("td",tl,[b("div",{class:le(["inner",{disabled:e.disabled}]),onClick:Be(a=>i(f),["stop"])},[V($(ki))],10,nl)])]))),256))])):X("",!0)}}});const ln=N({__name:"primitive",props:{schema:{},modelValue:{},disabled:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=K(!1),r=Z(()=>se(n.modelValue)),i=Z({get:()=>n.modelValue,set:t.bind(null,"update:modelValue")}),u=Z(()=>["url","link"].includes(n.schema.meta.role)),c=Z(()=>{const{type:h,meta:l}=n.schema;return h==="number"?"number":l.role==="secret"&&!s.value?"password":"text"}),o=Z({get(){if(n.modelValue){if(["date","datetime"].includes(n.schema.meta.role))return new Date(i.value);if(n.schema.meta.role==="time")return new Date("1970-01-01 "+i.value)}},set(h){n.schema.meta.role==="datetime"?t("update:modelValue",h.toLocaleString()):n.schema.meta.role==="date"?t("update:modelValue",h.toLocaleDateString()):n.schema.meta.role==="time"&&t("update:modelValue",h.toLocaleTimeString())}});function d(h){h&&open(h,"_blank")}return(h,l)=>{const f=E("el-switch"),a=E("el-slider"),m=E("el-input-number"),v=E("el-color-picker"),p=E("el-time-picker"),y=E("el-date-picker"),w=E("el-input");return e.schema.type==="boolean"?(g(),j(f,{key:0,modelValue:$(i),"onUpdate:modelValue":l[0]||(l[0]=O=>$e(i)?i.value=O:null),class:le({nullable:$(r)}),disabled:e.disabled},null,8,["modelValue","class","disabled"])):e.schema.type==="number"?(g(),_(H,{key:1},[e.schema.meta.role==="slider"?(g(),j(a,{key:0,style:{width:"200px"},modelValue:$(i),"onUpdate:modelValue":l[1]||(l[1]=O=>$e(i)?i.value=O:null),disabled:e.disabled,max:e.schema.meta.max,min:e.schema.meta.min,step:e.schema.meta.step},null,8,["modelValue","disabled","max","min","step"])):(g(),j(m,{key:1,modelValue:$(i),"onUpdate:modelValue":l[2]||(l[2]=O=>$e(i)?i.value=O:null),disabled:e.disabled,max:e.schema.meta.max,min:e.schema.meta.min,step:e.schema.meta.step},null,8,["modelValue","disabled","max","min","step"]))],64)):(g(),_(H,{key:2},[e.schema.meta.role==="color"?(g(),j(v,{key:0,modelValue:$(i),"onUpdate:modelValue":l[3]||(l[3]=O=>$e(i)?i.value=O:null),"show-alpha":""},null,8,["modelValue"])):X("",!0),e.schema.meta.role==="time"?(g(),j(p,{key:1,modelValue:$(o),"onUpdate:modelValue":l[4]||(l[4]=O=>$e(o)?o.value=O:null)},null,8,["modelValue"])):["date","datetime"].includes(e.schema.meta.role)?(g(),j(y,{key:2,type:e.schema.meta.role,modelValue:$(o),"onUpdate:modelValue":l[5]||(l[5]=O=>$e(o)?o.value=O:null)},null,8,["type","modelValue"])):(g(),j(w,{key:3,modelValue:$(i),"onUpdate:modelValue":l[9]||(l[9]=O=>$e(i)?i.value=O:null),disabled:e.disabled,class:le({nullable:$(r)}),style:Tt({width:$(u)?"16rem":"12rem"}),type:$(c)},ft({_:2},[$(r)?{name:"prefix",fn:k(()=>[]),key:"0"}:void 0,$(u)?{name:"suffix",fn:k(()=>[V($(Nn),{onClick:l[6]||(l[6]=O=>d($(i)))})]),key:"1"}:e.schema.meta.role==="secret"?{name:"suffix",fn:k(()=>[s.value?(g(),j($(Wn),{key:0,onClick:l[7]||(l[7]=O=>s.value=!s.value)})):(g(),j($(qn),{key:1,onClick:l[8]||(l[8]=O=>s.value=!s.value)}))]),key:"2"}:void 0]),1032,["modelValue","disabled","class","style","type"]))],64))}}});const rl={key:0,class:"k-schema-header"},il={class:"prefix"},ll={key:0,class:"k-schema-group"},ol=b("span",null,"当满足条件：",-1),al=b("span",null,"其他情况下",-1),cl={key:0,class:"bottom"},ul={key:1,class:"bottom"},fl={key:2,class:"bottom"},dl={key:0,class:"k-schema-group"},hl={class:"k-schema-header"},pl=N({__name:"schema",props:{schema:{},initial:{},modelValue:{},instant:Boolean,invalid:Boolean,disabled:Boolean,branch:Boolean,prefix:{type:String,default:""}},emits:["update:modelValue","command"],setup(e,{emit:t}){const n=e;function s(z,x){try{return w(z)(x),!0}catch{return!1}}const r=Z(()=>!n.instant&&!Re(n.initial,n.modelValue)),i=Z(()=>n.schema.meta.required&&se(n.schema.meta.default)&&se(n.modelValue)),u=K(),c=K(),o=K();ce(()=>n.schema,z=>{if(!(z!=null&&z.list)){u.value=[];return}u.value=et(n.schema),c.value=u.value.map(x=>x.type==="const"?x.value:vt(x,!0))},{immediate:!0});const d=Z({get(){if(o.value!==n.schema)return o.value.meta.description||o.value.value},set(z){o.value!==u.value[z]&&(p.value=c.value[z],o.value=u.value[z])}}),h=Z(()=>!n.schema||n.schema.meta.hidden),l=Z(()=>s(o.value,p.value)),f=Z(()=>["string","number","boolean"].includes(o.value.type)&&o.value.meta.role!=="textarea"),a=Z(()=>["array","dict"].includes(o.value.type)&&o.value.meta.role!=="table"),m=Z(()=>n.schema.meta.role!=="computed"&&["array","dict"].includes(o.value.type)&&o.value.meta.role==="table"&&["string","number"].includes(o.value.inner.type));function v(){var z;(z=p.value)!=null&&z.$switch?p.value.$switch.branches.push({case:null,then:null}):p.value={$switch:{branches:[{case:null,then:null}],default:Ie(p.value)}}}const p=K(),y=K(!1);function w(z){return z.type==="const"?z:z.type==="object"?Ge.object(Ue(z.dict,w)):z.type==="intersect"?Ge.intersect(z.list.map(w)):z.type==="union"?Ge.union(z.list.map(w)):Ge(z).required(!1)}ce(()=>n.modelValue,z=>{p.value=z??vt(n.schema),o.value=n.schema;for(const x of u.value)if(s(x,p.value)){o.value=x;break}},{immediate:!0,deep:!0}),ce(p,z=>{n.schema&&(n.initial===void 0&&Re(z,n.schema.meta.default)?t("update:modelValue",void 0):t("update:modelValue",z))},{deep:!0});function O(z){z==="discard"?t("update:modelValue",Ie(n.initial)):z==="default"?t("update:modelValue",void 0):t("command",z)}function ue(z,x){z==="down"?p.value.$switch.branches.splice(x+1,0,p.value.$switch.branches.splice(x,1)[0]):z==="up"?p.value.$switch.branches.splice(x-1,0,p.value.$switch.branches.splice(x,1)[0]):z==="delete"&&(p.value.$switch.branches.length>1?p.value.$switch.branches.splice(x,1):p.value=p.value.$switch.default)}return(z,x)=>{var me,J,_e,T;const ne=E("k-schema"),fe=E("el-button"),ve=E("el-dropdown-item"),ke=E("k-filter-button"),B=E("k-markdown"),A=E("el-option"),M=E("el-select"),W=E("el-radio"),oe=E("el-input"),pe=E("k-filter");return g(),_(H,null,[$(h)?(g(),_(H,{key:0},[],64)):e.schema.type==="const"||e.schema.type==="never"?(g(),_(H,{key:1},[],64)):e.schema.type==="object"?(g(),_(H,{key:2},[e.schema.meta.description?(g(),_("h2",rl,ee(e.schema.meta.description),1)):X("",!0),(g(!0),_(H,null,ge(e.schema.dict,(C,D)=>{var re;return g(),j(ne,{key:D,modelValue:p.value[D],"onUpdate:modelValue":Fe=>p.value[D]=Fe,schema:C,initial:(re=e.initial)==null?void 0:re[D],instant:e.instant,disabled:e.disabled,prefix:e.prefix+D+"."},{default:k(()=>[b("span",il,ee(e.prefix),1),b("span",null,ee(D),1)]),_:2},1032,["modelValue","onUpdate:modelValue","schema","initial","instant","disabled","prefix"])}),128))],64)):e.schema.type==="intersect"||e.schema.type==="union"&&u.value.length===1?(g(),_(H,{key:3},[(g(!0),_(H,null,ge(u.value,(C,D)=>(g(),j(ne,{key:D,modelValue:p.value,"onUpdate:modelValue":x[0]||(x[0]=re=>p.value=re),branch:e.schema.type==="intersect",initial:e.initial,schema:{...C,meta:{...e.schema.meta,...C.meta}},instant:e.instant,disabled:e.disabled,prefix:e.prefix},ft({default:k(()=>[U(z.$slots,"default")]),_:2},[e.schema.meta.role==="computed"?{name:"after",fn:k(()=>{var re;return[(re=p.value)!=null&&re.$switch?(g(),j(fe,{key:0,onClick:v},{default:k(()=>[G(" 添加分支 ")]),_:1})):s(e.schema,e.initial)?(g(),j(fe,{key:1,onClick:v},{default:k(()=>[V($(Vi))]),_:1})):X("",!0)]}),key:"0"}:void 0]),1032,["modelValue","branch","initial","schema","instant","disabled","prefix"]))),128)),e.schema.meta.role==="computed"&&((me=p.value)!=null&&me.$switch)?(g(),_("div",ll,[(g(!0),_(H,null,ge(p.value.$switch.branches,(C,D)=>(g(),j(ne,{modelValue:p.value.$switch.branches[D].then,"onUpdate:modelValue":re=>p.value.$switch.branches[D].then=re,onCommand:re=>ue(re,D),key:D,schema:e.schema.list[0],disabled:e.disabled,instant:e.instant},{menu:k(()=>[V(ve,{divided:"",disabled:!D,command:"up"},{default:k(()=>[G("上移")]),_:2},1032,["disabled"]),V(ve,{disabled:D===p.value.$switch.branches.length-1,command:"down"},{default:k(()=>[G("下移")]),_:2},1032,["disabled"]),V(ve,{command:"delete"},{default:k(()=>[G("删除")]),_:1})]),default:k(()=>[ol,V(ke,{modelValue:p.value.$switch.branches[D].case,"onUpdate:modelValue":re=>p.value.$switch.branches[D].case=re,disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["modelValue","onUpdate:modelValue","onCommand","schema","disabled","instant"]))),128)),V(ne,{modelValue:p.value.$switch.default,"onUpdate:modelValue":x[1]||(x[1]=C=>p.value.$switch.default=C),schema:e.schema.list[0],disabled:e.disabled,initial:(J=e.initial)!=null&&J.$switch?e.initial.$switch.default:e.initial,instant:e.instant},{default:k(()=>[al]),_:1},8,["modelValue","schema","disabled","initial","instant"])])):X("",!0)],64)):!e.branch&&(e.prefix||!$(a))?(g(),j(Zn,{key:4,disabled:e.disabled,class:le({changed:$(r),required:$(i),invalid:e.invalid}),onCommand:O},{menu:k(()=>[V(ve,{command:"discard"},{default:k(()=>[G("撤销更改")]),_:1}),V(ve,{command:"default"},{default:k(()=>[G("恢复默认值")]),_:1}),U(z.$slots,"menu")]),header:k(()=>[U(z.$slots,"default")]),description:k(()=>[V(B,{source:e.schema.meta.description},null,8,["source"])]),right:k(()=>[U(z.$slots,"before"),e.schema.type==="union"&&e.schema.meta.role!=="radio"?(g(),j(M,{key:0,filterable:"",modelValue:$(d),"onUpdate:modelValue":x[2]||(x[2]=C=>$e(d)?d.value=C:null),disabled:e.disabled},{default:k(()=>[(g(!0),_(H,null,ge(u.value,(C,D)=>(g(),j(A,{key:D,value:D,label:C.meta.description||C.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue","disabled"])):X("",!0),$(l)?(g(),_(H,{key:1},[$(f)?(g(),j(ln,{key:0,modelValue:p.value,"onUpdate:modelValue":x[3]||(x[3]=C=>p.value=C),schema:o.value,disabled:e.disabled},null,8,["modelValue","schema","disabled"])):["array","dict"].includes(o.value.type)?(g(),j(fe,{key:1,solid:"",onClick:x[4]||(x[4]=C=>y.value=!0),disabled:e.disabled},{default:k(()=>[G("添加项")]),_:1},8,["disabled"])):e.schema.type==="tuple"?(g(!0),_(H,{key:2},ge(o.value.list,(C,D)=>(g(),j(ln,{key:D,modelValue:p.value[D],"onUpdate:modelValue":re=>p.value[D]=re,schema:C,disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","schema","disabled"]))),128)):X("",!0)],64)):X("",!0),U(z.$slots,"after")]),default:k(()=>[$(l)?(g(),_(H,{key:0},[e.schema.type==="union"&&e.schema.meta.role==="radio"?(g(),_("ul",cl,[(g(!0),_(H,null,ge(u.value,C=>(g(),_("li",{key:C.value},[V(W,{modelValue:p.value,"onUpdate:modelValue":x[5]||(x[5]=D=>p.value=D),disabled:e.disabled,label:C.value},{default:k(()=>[G(ee(C.meta.description||C.value),1)]),_:2},1032,["modelValue","disabled","label"])]))),128))])):e.schema.type==="bitset"?(g(),_("ul",ul,[(g(!0),_(H,null,ge(e.schema.bits,(C,D)=>(g(),_("li",{key:C},[V(Fi,{modelValue:p.value,"onUpdate:modelValue":x[6]||(x[6]=re=>p.value=re),disabled:e.disabled,label:D,value:C},null,8,["modelValue","disabled","label","value"])]))),128))])):e.schema.type==="string"&&e.schema.meta.role==="textarea"?(g(),_("div",fl,[V(oe,{autosize:"",modelValue:p.value,"onUpdate:modelValue":x[7]||(x[7]=C=>p.value=C),type:"textarea",disabled:e.disabled},null,8,["modelValue","disabled"])])):$(m)?(g(),j(sl,{key:3,class:"bottom",modelValue:p.value,"onUpdate:modelValue":x[8]||(x[8]=C=>p.value=C),signal:y.value,"onUpdate:signal":x[9]||(x[9]=C=>y.value=C),schema:e.schema,disabled:e.disabled},null,8,["modelValue","signal","schema","disabled"])):e.schema.type==="any"&&e.schema.meta.role==="filter"?(g(),j(pe,{key:4,class:"bottom",modelValue:p.value,"onUpdate:modelValue":x[10]||(x[10]=C=>p.value=C),disabled:e.disabled},null,8,["modelValue","disabled"])):X("",!0)],64)):X("",!0)]),_:3},8,["disabled","class"])):X("",!0),$(h)||e.schema.type==="union"&&u.value.length===1?(g(),_(H,{key:5},[],64)):$(a)?(g(),_(H,{key:6},[e.prefix?(g(),_("div",dl,[V(rn,{signal:y.value,"onUpdate:signal":x[11]||(x[11]=C=>y.value=C),schema:o.value,modelValue:p.value,"onUpdate:modelValue":x[12]||(x[12]=C=>p.value=C),prefix:e.prefix,disabled:e.disabled,instant:e.instant,initial:e.initial??o.value.meta.default},null,8,["signal","schema","modelValue","prefix","disabled","instant","initial"])])):(g(),_(H,{key:1},[b("h2",hl,[G(ee(e.schema.meta.description||"配置列表")+" ",1),V(fe,{solid:"",onClick:x[13]||(x[13]=C=>y.value=!0),disabled:e.disabled},{default:k(()=>[G("添加项")]),_:1},8,["disabled"])]),V(rn,{signal:y.value,"onUpdate:signal":x[14]||(x[14]=C=>y.value=C),schema:o.value,modelValue:p.value,"onUpdate:modelValue":x[15]||(x[15]=C=>p.value=C),prefix:e.prefix,disabled:e.disabled,instant:e.instant,initial:e.initial},null,8,["signal","schema","modelValue","prefix","disabled","instant","initial"])],64))],64)):((_e=e.schema)==null?void 0:_e.type)==="union"&&u.value.length>1&&["object","intersect"].includes((T=o.value)==null?void 0:T.type)?(g(),j(ne,{key:7,modelValue:p.value,"onUpdate:modelValue":x[16]||(x[16]=C=>p.value=C),initial:e.initial,schema:e.branch?o.value:{...o.value,meta:{...o.value.meta,description:""}},instant:e.instant,disabled:e.disabled,prefix:e.prefix},null,8,["modelValue","initial","schema","instant","disabled","prefix"])):X("",!0)],64)}}});function ml(e){e.component("k-schema",pl)}const gl={class:"k-form"},vl={key:0,class:"k-schema-header"},_l=N({__name:"k-form",props:{schema:{},initial:{},modelValue:{},disabled:Boolean,showHeader:{},instant:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=Z(()=>n.schema&&new Ge(n.schema)),r=Z({get:()=>n.modelValue,set:t.bind(null,"update:modelValue")});return(i,u)=>{const c=E("k-comment"),o=E("k-schema");return g(),_(H,null,[$(Ke)($(s))?X("",!0):(g(),j(c,{key:0,type:"warning"},{default:k(()=>[b("p",null,[G("部分配置项无法正常显示，这可能并非预期行为"),U(i.$slots,"hint"),G("。")])]),_:3})),b("form",gl,[U(i.$slots,"prolog"),e.showHeader??!$(ct)($(s),!0)?(g(),_("h2",vl,"基础设置")):X("",!0),V(o,{modelValue:$(r),"onUpdate:modelValue":u[0]||(u[0]=d=>$e(r)?r.value=d:null),instant:e.instant,initial:e.initial,schema:$(s),disabled:e.disabled},null,8,["modelValue","instant","initial","schema","disabled"]),U(i.$slots,"epilog")])],64)}}});const yl={class:"k-horizontal-tab"},bl=["onClick"],kl=N({__name:"k-tab",props:{data:null,modelValue:null},emits:["update:modelValue"],setup(e){return(t,n)=>(g(),_("span",yl,[(g(!0),_(H,null,ge(e.data,(s,r)=>(g(),_("span",{class:le(["k-horizontal-tab-item",{active:e.modelValue===r}]),key:r,onClick:i=>t.$emit("update:modelValue",r)},ee(s),11,bl))),128))]))}});function wl(e){e.component("k-button",Wr),e.component("k-filter",On),e.component("k-filter-button",Kr),e.component("k-form",_l),e.component("k-tab",kl)}const xe=Oe({overlayImage:null}),xl=["src"],e1=N({__name:"image",props:{src:null},setup(e){const t=e;function n(s){if(s.preventDefault(),s.metaKey)return window.open(t.src,"_blank");xe.overlayImage=s.target}return(s,r)=>(g(),_("img",{class:"chat-image",src:e.src,onClick:n},null,8,xl))}}),$l={},Cl={class:"k-icon",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},Sl=b("path",{fill:"currentColor",d:"M0 80C0 53.49 21.49 32 48 32H144C170.5 32 192 53.49 192 80V176C192 202.5 170.5 224 144 224H48C21.49 224 0 202.5 0 176V80zM32 80V176C32 184.8 39.16 192 48 192H144C152.8 192 160 184.8 160 176V80C160 71.16 152.8 64 144 64H48C39.16 64 32 71.16 32 80zM0 336C0 309.5 21.49 288 48 288H144C170.5 288 192 309.5 192 336V432C192 458.5 170.5 480 144 480H48C21.49 480 0 458.5 0 432V336zM32 336V432C32 440.8 39.16 448 48 448H144C152.8 448 160 440.8 160 432V336C160 327.2 152.8 320 144 320H48C39.16 320 32 327.2 32 336zM400 32C426.5 32 448 53.49 448 80V176C448 202.5 426.5 224 400 224H304C277.5 224 256 202.5 256 176V80C256 53.49 277.5 32 304 32H400zM400 64H304C295.2 64 288 71.16 288 80V176C288 184.8 295.2 192 304 192H400C408.8 192 416 184.8 416 176V80C416 71.16 408.8 64 400 64zM256 336C256 309.5 277.5 288 304 288H400C426.5 288 448 309.5 448 336V432C448 458.5 426.5 480 400 480H304C277.5 480 256 458.5 256 432V336zM288 336V432C288 440.8 295.2 448 304 448H400C408.8 448 416 440.8 416 432V336C416 327.2 408.8 320 400 320H304C295.2 320 288 327.2 288 336z"},null,-1),Vl=[Sl];function zl(e,t){return g(),_("svg",Cl,Vl)}const Al=R($l,[["render",zl]]),Tl={},Ll={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},El=b("path",{fill:"currentColor",d:"M352 256C352 238.3 366.3 224 384 224C401.7 224 416 238.3 416 256C416 273.7 401.7 288 384 288C366.3 288 352 273.7 352 256zM192 256C192 238.3 206.3 224 224 224C241.7 224 256 238.3 256 256C256 273.7 241.7 288 224 288C206.3 288 192 273.7 192 256zM96 256C96 273.7 81.67 288 64 288C46.33 288 32 273.7 32 256C32 238.3 46.33 224 64 224C81.67 224 96 238.3 96 256z"},null,-1),Il=[El];function Rl(e,t){return g(),_("svg",Ll,Il)}const Ol=R(Tl,[["render",Rl]]),Ml={},Bl={class:"k-icon",viewBox:"-64 0 1152 1024",xmlns:"http://www.w3.org/2000/svg"},jl=rs('<path d="M512,64c60.51,0,119.17,11.84,174.36,35.18,53.34,22.56,101.26,54.87,142.42,96.04,41.16,41.16,73.48,89.08,96.04,142.42,23.34,55.19,35.18,113.85,35.18,174.36s-11.84,119.17-35.18,174.36c-22.56,53.34-54.87,101.26-96.04,142.42-41.16,41.16-89.08,73.48-142.42,96.04-55.19,23.34-113.85,35.18-174.36,35.18s-119.17-11.84-174.36-35.18c-53.34-22.56-101.26-54.87-142.42-96.04-41.16-41.16-73.48-89.08-96.04-142.42-23.34-55.19-35.18-113.85-35.18-174.36s11.84-119.17,35.18-174.36c22.56-53.34,54.87-101.26,96.04-142.42s89.08-73.48,142.42-96.04c55.19-23.34,113.85-35.18,174.36-35.18m0-64C229.23,0,0,229.23,0,512s229.23,512,512,512,512-229.23,512-512S794.77,0,512,0h0Z" style="fill:currentColor;"></path><line x1="678.29" y1="676.29" x2="742.29" y2="740.29" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:64px;"></line><line x1="816" y1="416" x2="872" y2="416" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px;"></line><path d="M816,304c0,283-229,512-512,512" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:64px;"></path><line x1="416" y1="872" x2="416" y2="816" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px;"></line><line x1="760" y1="552" x2="840" y2="585.14" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:56px;"></line><line x1="552" y1="760" x2="585.14" y2="840" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:56px;"></line>',7),Ul=[jl];function Pl(e,t){return g(),_("svg",Bl,Ul)}const Dl=R(Ml,[["render",Pl]]),Hl={},Fl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Nl=b("path",{fill:"currentColor",d:"M428.3 367.5c-5.609-9.312-16.08-13.91-26.75-11.97c-42.39 8.188-85.83-2.938-119.2-30.5C248.4 297 228.9 255.5 228.9 211.3c0-52.75 28.2-101.8 73.59-127.8c9.453-5.406 14.38-15.88 12.55-26.66c-1.812-10.75-9.891-19-20.61-21C283.1 33.66 265.3 32 253.9 32C131.5 32 32 132.5 32 256s99.55 224 221.9 224c67.19 0 130-30.25 172.4-83C433.1 388.4 433.9 376.9 428.3 367.5zM253.9 448C149.2 448 64 361.9 64 256s85.19-192 189.9-192c4.891 0 11.53 .4062 18.09 1.031C225.3 98.34 196.9 152.9 196.9 211.3c0 53.84 23.7 104.3 65.05 138.5c36.25 29.94 82.17 43.88 128.5 39.69C354.8 426.8 305.8 448 253.9 448z"},null,-1),ql=[Nl];function Wl(e,t){return g(),_("svg",Fl,ql)}const Zl=R(Hl,[["render",Wl]]),Gl={},Ql={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Xl=b("path",{fill:"currentColor",d:"M256 112C247.2 112 240 104.8 240 96V16C240 7.156 247.2 0 256 0s16 7.156 16 16V96C272 104.8 264.8 112 256 112zM272 496V416c0-8.844-7.156-16-16-16S240 407.2 240 416v80c0 8.844 7.156 16 16 16S272 504.8 272 496zM512 256c0-8.844-7.156-16-16-16H416c-8.844 0-16 7.156-16 16s7.156 16 16 16h80C504.8 272 512 264.8 512 256zM112 256c0-8.844-7.156-16-16-16H16C7.156 240 0 247.2 0 256s7.156 16 16 16H96C104.8 272 112 264.8 112 256zM380.5 154.2l56.56-56.59c6.25-6.25 6.25-16.38 0-22.62s-16.38-6.25-22.62 0l-56.56 56.59c-6.25 6.25-6.25 16.37 0 22.62c3.125 3.125 7.219 4.691 11.31 4.691S377.3 157.3 380.5 154.2zM97.61 437l56.56-56.59c6.25-6.25 6.25-16.37 0-22.62s-16.38-6.253-22.62-.0031l-56.56 56.59c-6.25 6.25-6.25 16.38 0 22.62c3.125 3.125 7.219 4.688 11.31 4.688S94.48 440.2 97.61 437zM437 437c6.25-6.25 6.25-16.38 0-22.62l-56.56-56.59c-6.25-6.25-16.38-6.247-22.62 .0031s-6.25 16.37 0 22.62l56.56 56.59c3.125 3.125 7.219 4.688 11.31 4.688S433.9 440.2 437 437zM154.2 154.2c6.25-6.25 6.25-16.37 0-22.62L97.61 74.97c-6.25-6.25-16.38-6.25-22.62 0s-6.25 16.38 0 22.62l56.56 56.59c3.125 3.125 7.219 4.688 11.31 4.688S151 157.3 154.2 154.2zM368 256c0-61.75-50.25-112-112-112S144 194.3 144 256s50.25 112 112 112S368 317.8 368 256zM336 256c0 44.13-35.89 80-80 80S176 300.1 176 256S211.9 176 256 176S336 211.9 336 256z"},null,-1),Kl=[Xl];function Jl(e,t){return g(),_("svg",Ql,Kl)}const Yl=R(Gl,[["render",Jl]]),eo={},to={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},no=b("path",{fill:"currentColor",d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},null,-1),so=[no];function ro(e,t){return g(),_("svg",to,so)}const io=R(eo,[["render",ro]]),lo={},oo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ao=b("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),co=[ao];function uo(e,t){return g(),_("svg",oo,co)}const fo=R(lo,[["render",uo]]),ho={},po={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},mo=b("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),go=[mo];function vo(e,t){return g(),_("svg",po,go)}const _o=R(ho,[["render",vo]]),yo={},bo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},ko=b("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),wo=[ko];function xo(e,t){return g(),_("svg",bo,wo)}const $o=R(yo,[["render",xo]]),Co={},So={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},Vo=b("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},null,-1),zo=[Vo];function Ao(e,t){return g(),_("svg",So,zo)}const To=R(Co,[["render",Ao]]),Lo={},Eo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Io=b("path",{fill:"currentColor",d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},null,-1),Ro=[Io];function Oo(e,t){return g(),_("svg",Eo,Ro)}const Mo=R(Lo,[["render",Oo]]),Bo={},jo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},Uo=b("path",{fill:"currentColor",d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},null,-1),Po=[Uo];function Do(e,t){return g(),_("svg",jo,Po)}const Ho=R(Bo,[["render",Do]]),Fo={},No={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},qo=b("path",{fill:"currentColor",d:"M160 400C160 408.8 152.8 416 144 416C135.2 416 128 408.8 128 400V192C128 183.2 135.2 176 144 176C152.8 176 160 183.2 160 192V400zM240 400C240 408.8 232.8 416 224 416C215.2 416 208 408.8 208 400V192C208 183.2 215.2 176 224 176C232.8 176 240 183.2 240 192V400zM320 400C320 408.8 312.8 416 304 416C295.2 416 288 408.8 288 400V192C288 183.2 295.2 176 304 176C312.8 176 320 183.2 320 192V400zM317.5 24.94L354.2 80H424C437.3 80 448 90.75 448 104C448 117.3 437.3 128 424 128H416V432C416 476.2 380.2 512 336 512H112C67.82 512 32 476.2 32 432V128H24C10.75 128 0 117.3 0 104C0 90.75 10.75 80 24 80H93.82L130.5 24.94C140.9 9.357 158.4 0 177.1 0H270.9C289.6 0 307.1 9.358 317.5 24.94H317.5zM151.5 80H296.5L277.5 51.56C276 49.34 273.5 48 270.9 48H177.1C174.5 48 171.1 49.34 170.5 51.56L151.5 80zM80 432C80 449.7 94.33 464 112 464H336C353.7 464 368 449.7 368 432V128H80V432z"},null,-1),Wo=[qo];function Zo(e,t){return g(),_("svg",No,Wo)}const Go=R(Fo,[["render",Zo]]),Qo={},Xo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ko=b("path",{fill:"currentColor",d:"M373.1 24.97C401.2-3.147 446.8-3.147 474.9 24.97L487 37.09C515.1 65.21 515.1 110.8 487 138.9L289.8 336.2C281.1 344.8 270.4 351.1 258.6 354.5L158.6 383.1C150.2 385.5 141.2 383.1 135 376.1C128.9 370.8 126.5 361.8 128.9 353.4L157.5 253.4C160.9 241.6 167.2 230.9 175.8 222.2L373.1 24.97zM440.1 58.91C431.6 49.54 416.4 49.54 407 58.91L377.9 88L424 134.1L453.1 104.1C462.5 95.6 462.5 80.4 453.1 71.03L440.1 58.91zM203.7 266.6L186.9 325.1L245.4 308.3C249.4 307.2 252.9 305.1 255.8 302.2L390.1 168L344 121.9L209.8 256.2C206.9 259.1 204.8 262.6 203.7 266.6zM200 64C213.3 64 224 74.75 224 88C224 101.3 213.3 112 200 112H88C65.91 112 48 129.9 48 152V424C48 446.1 65.91 464 88 464H360C382.1 464 400 446.1 400 424V312C400 298.7 410.7 288 424 288C437.3 288 448 298.7 448 312V424C448 472.6 408.6 512 360 512H88C39.4 512 0 472.6 0 424V152C0 103.4 39.4 64 88 64H200z"},null,-1),Jo=[Ko];function Yo(e,t){return g(),_("svg",Xo,Jo)}const ea=R(Qo,[["render",Yo]]),ta={},na={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},sa=b("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),ra=[sa];function ia(e,t){return g(),_("svg",na,ra)}const la=R(ta,[["render",ia]]),oa={},aa={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},ca=b("path",{fill:"currentColor",d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},null,-1),ua=[ca];function fa(e,t){return g(),_("svg",aa,ua)}const da=R(oa,[["render",fa]]),ha={},pa={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},ma=b("path",{fill:"currentColor",d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zM128.4 336c-17.9 0-32.4 12.1-32.4 27 0 15 14.6 27 32.5 27s32.4-12.1 32.4-27-14.6-27-32.5-27zM224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6z"},null,-1),ga=[ma];function va(e,t){return g(),_("svg",pa,ga)}const _a=R(ha,[["render",va]]),ya={},ba={class:"k-icon k-icon-filter",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ka=b("path",{fill:"currentColor",d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},null,-1),wa=[ka];function xa(e,t){return g(),_("svg",ba,wa)}const $a=R(ya,[["render",xa]]),Ca={},Sa={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},Va=b("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},null,-1),za=[Va];function Aa(e,t){return g(),_("svg",Sa,za)}const Ta=R(Ca,[["render",Aa]]),La={},Ea={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ia=b("path",{fill:"currentColor",d:"M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88l94.3 294 94.3-294zm349.4 88l-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"},null,-1),Ra=[Ia];function Oa(e,t){return g(),_("svg",Ea,Ra)}const Ma=R(La,[["render",Oa]]),Ba={},ja={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ua=b("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Pa=[Ua];function Da(e,t){return g(),_("svg",ja,Pa)}const Ha=R(Ba,[["render",Da]]),Fa={},Na={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},qa=b("path",{fill:"currentColor",d:"M256,0C114.62,0,0,114.62,0,256S114.62,512,256,512,512,397.38,512,256,397.38,0,256,0ZM455.48,276a40,40,0,0,1-33.07,21.45,280.06,280.06,0,0,1-39.12,58.33,8,8,0,0,0-1.06,8.9L401,401l-36.37-18.77a8,8,0,0,0-8.9,1.06,280.06,280.06,0,0,1-58.33,39.12A40,40,0,0,1,276,455.48a40.16,40.16,0,0,0,4-25,278,278,0,0,1-61.42,17.71A25,25,0,0,1,193.87,471a25,25,0,0,0,8.69-20.66,281.77,281.77,0,0,1-56,.5C301.54,432,432,301.54,450.84,146.55a281.77,281.77,0,0,1-.5,56A25,25,0,0,0,471,193.87a25,25,0,0,1-22.85,24.65,278,278,0,0,1-17.71,61.42A40.16,40.16,0,0,0,455.48,276Z"},null,-1),Wa=[qa];function Za(e,t){return g(),_("svg",Na,Wa)}const Ga=R(Fa,[["render",Za]]),Qa={},Xa={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ka=b("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},null,-1),Ja=[Ka];function Ya(e,t){return g(),_("svg",Xa,Ja)}const ec=R(Qa,[["render",Ya]]),tc={},nc={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},sc=b("path",{fill:"currentColor",d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},null,-1),rc=[sc];function ic(e,t){return g(),_("svg",nc,rc)}const lc=R(tc,[["render",ic]]),oc={},ac={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},cc=b("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"},null,-1),uc=[cc];function fc(e,t){return g(),_("svg",ac,uc)}const dc=R(oc,[["render",fc]]),hc={},pc={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},mc=b("path",{fill:"currentColor",d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},null,-1),gc=[mc];function vc(e,t){return g(),_("svg",pc,gc)}const _c=R(hc,[["render",vc]]),yc={},bc={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},kc=b("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},null,-1),wc=[kc];function xc(e,t){return g(),_("svg",bc,wc)}const $c=R(yc,[["render",xc]]),Cc={},Sc={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Vc=b("path",{fill:"currentColor",d:"M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},null,-1),zc=[Vc];function Ac(e,t){return g(),_("svg",Sc,zc)}const Tc=R(Cc,[["render",Ac]]),Lc={},Ec={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ic=b("path",{fill:"currentColor",d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},null,-1),Rc=[Ic];function Oc(e,t){return g(),_("svg",Ec,Rc)}const Mc=R(Lc,[["render",Oc]]),Bc={},jc={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Uc=b("path",{fill:"currentColor",d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},null,-1),Pc=[Uc];function Dc(e,t){return g(),_("svg",jc,Pc)}const Hc=R(Bc,[["render",Dc]]),Fc={},Nc={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},qc=b("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},null,-1),Wc=[qc];function Zc(e,t){return g(),_("svg",Nc,Wc)}const Gc=R(Fc,[["render",Zc]]),Qc={},Xc={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},Kc=b("path",{fill:"currentColor",d:"M24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13V38.13zM48 432L336 256L48 80V432z"},null,-1),Jc=[Kc];function Yc(e,t){return g(),_("svg",Xc,Jc)}const eu=R(Qc,[["render",Yc]]),tu={},nu={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},su=b("path",{fill:"currentColor",d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},null,-1),ru=[su];function iu(e,t){return g(),_("svg",nu,ru)}const lu=R(tu,[["render",iu]]),ou={},au={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},cu=b("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},null,-1),uu=[cu];function fu(e,t){return g(),_("svg",au,uu)}const du=R(ou,[["render",fu]]),hu={},pu={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},mu=b("path",{fill:"currentColor",d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},null,-1),gu=[mu];function vu(e,t){return g(),_("svg",pu,gu)}const _u=R(hu,[["render",vu]]),yu={},bu={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ku=b("path",{fill:"currentColor",d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},null,-1),wu=[ku];function xu(e,t){return g(),_("svg",bu,wu)}const $u=R(yu,[["render",xu]]),Cu={},Su={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Vu=b("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},null,-1),zu=[Vu];function Au(e,t){return g(),_("svg",Su,zu)}const Tu=R(Cu,[["render",Au]]);const Gn={};P("activity:default",Al);P("activity:ellipsis",Ol);P("activity:home",Dl);P("activity:moon",Zl);P("activity:sun",Yl);P("box-open",io);P("check-full",fo);P("chevron-down",_o);P("chevron-left",$o);P("chevron-right",To);P("chevron-up",Mo);P("clipboard-list",Ho);P("delete",Go);P("edit",ea);P("exclamation-full",la);P("expand",da);P("external",Nn);P("eye-slash",qn);P("eye",Wn);P("file-archive",_a);P("filter",$a);P("github",Ta);P("gitlab",Ma);P("info-full",Ha);P("koishi",Ga);P("link",ec);P("paper-plane",lc);P("question-empty",dc);P("redo",_c);P("search",$c);P("search-minus",Tc);P("search-plus",Mc);P("star-empty",Hc);P("star-full",Gc);P("start",eu);P("tag",lu);P("times-full",du);P("tools",_u);P("undo",$u);P("user",Tu);function P(e,t){Gn[e]=t}function Lu(e){e.component("k-icon",N({props:{name:String},render(t){return t.name&&ye(Gn[t.name])}}))}const Eu=Object.freeze(Object.defineProperty({__proto__:null,install:Lu,register:P},Symbol.toStringTag,{value:"Module"})),_t=K(!1),Iu={class:"layout-header"},Ru=b("div",{class:"icon"},[b("span"),b("span"),b("span")],-1),Ou=[Ru],Mu={class:"left"},Bu={class:"right"},ju=N({__name:"layout-header",setup(e){return(t,n)=>(g(),_("div",Iu,[b("div",{class:"toggle-sidebar-button",role:"button",tabindex:"0",onClick:n[0]||(n[0]=s=>_t.value=!$(_t))},Ou),b("div",Mu,[U(t.$slots,"left",{},()=>[G(ee(t.$route.name),1)])]),b("div",Bu,[U(t.$slots,"right")])]))}});const Uu={class:"main-container"},Pu=["onClick"],Du=N({__name:"k-layout",props:{main:null,left:null,right:null,container:null,menu:null},setup(e){const t=_s();return(n,s)=>{const r=E("k-icon"),i=E("el-tooltip");return g(),_("div",{class:le(["layout-container",[e.container,{"has-left-aside":n.$slots.left,"has-right-aside":n.$slots.right}]])},[n.$slots.left?(g(),_("aside",{key:0,class:le(["layout-left",e.left])},[U(n.$slots,"left")],2)):X("",!0),b("div",Uu,[b("div",{class:"mask",onClick:s[0]||(s[0]=u=>_t.value=!$(_t))}),V(ju,null,{left:k(()=>[U(n.$slots,"header",{},()=>{var u;return[G(ee((u=$(t).meta.activity)==null?void 0:u.name),1)]})]),right:k(()=>[U(n.$slots,"menu",{},()=>[(g(!0),_(H,null,ge(e.menu||[],({icon:u,label:c,type:o,disabled:d,action:h})=>(g(),j(i,{disabled:!!d,content:c,placement:"bottom"},{default:k(()=>[b("span",{class:le(["menu-item",[o,{disabled:d}]]),onClick:l=>h()},[V(r,{class:"menu-icon",name:u},null,8,["name"])],10,Pu)]),_:2},1032,["disabled","content"]))),256))])]),_:3}),b("main",{class:le(["layout-main",e.main])},[U(n.$slots,"default")],2)]),n.$slots.right?(g(),_("aside",{key:1,class:le(["layout-right",e.right])},[U(n.$slots,"right")],2)):X("",!0)],2)}}});const Hu={inheritAttrs:!1};const Fu=e=>(is("data-v-471ca797"),e=e(),ls(),e),Nu=Fu(()=>b("span",{class:"el-popper__empty"},null,-1));function qu(e,t,n,s,r,i){const u=E("el-tooltip");return g(),j(u,{placement:"top",effect:"light","popper-class":"k-status-tooltip"},{content:k(()=>[U(e.$slots,"tooltip",{},()=>[Nu],!0)]),default:k(()=>[b("div",un({class:"k-status"},e.$attrs),[U(e.$slots,"default",{},void 0,!0)],16)]),_:3})}const Wu=R(Hu,[["render",qu],["__scopeId","data-v-471ca797"]]),Zu={class:"content"},Gu={class:"title"},Qu={class:"value"},Xu=N({__name:"card-numeric",props:{title:null,icon:null},setup(e){return(t,n)=>{const s=E("k-icon"),r=E("k-card");return g(),j(r,{class:"k-card-numeric"},{default:k(()=>[V(s,{name:e.icon},null,8,["name"]),b("div",Zu,[b("p",Gu,ee(e.title),1),b("p",Qu,[U(t.$slots,"default",{},()=>[G("-")])])])]),_:3})}}});const Ku={class:"k-card"},Ju={key:0},Yu={class:"k-card-body"},ef={key:2,class:"k-card-body"},tf={key:3},nf=N({__name:"card",props:{title:null,scrollbar:{type:Boolean}},setup(e){return(t,n)=>{const s=E("el-scrollbar");return g(),_("section",Ku,[e.title||t.$slots.header?(g(),_("header",Ju,[U(t.$slots,"header",{},()=>[G(ee(e.title),1)])])):X("",!0),e.scrollbar?(g(),j(s,{key:1},{default:k(()=>[b("div",Yu,[U(t.$slots,"default")])]),_:3})):(g(),_("div",ef,[U(t.$slots,"default")])),t.$slots.footer?(g(),_("footer",tf,[U(t.$slots,"footer")])):X("",!0)])}}});const sf={},rf={class:"k-content"};function lf(e,t){const n=E("el-scrollbar");return g(),j(n,null,{default:k(()=>[b("div",rf,[U(e.$slots,"default")])]),_:3})}const of=R(sf,[["render",lf]]);const af={},cf={class:"k-empty"},uf={class:"image"};function ff(e,t){const n=E("k-icon");return g(),_("div",cf,[b("div",uf,[V(n,{name:"koishi"})]),U(e.$slots,"default")])}const df=R(af,[["render",ff]]),hf=N({__name:"tab-group",props:{data:null,modelValue:null,filter:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=Z({get:()=>n.modelValue,set:r=>t("update:modelValue",r)});return(r,i)=>{const u=E("k-tab-item");return g(!0),_(H,null,ge(e.data,(c,o)=>(g(),_(H,{key:o},[!e.filter||e.filter(c)?(g(),j(u,{key:0,modelValue:$(s),"onUpdate:modelValue":i[0]||(i[0]=d=>$e(s)?s.value=d:null),label:o},{default:k(()=>[U(r.$slots,"default",os(as(c)))]),_:2},1032,["modelValue","label"])):X("",!0)],64))),128)}}});const pf=N({__name:"tab-item",props:{label:null,modelValue:null},emits:["update:modelValue"],setup(e){return(t,n)=>(g(),_("div",{class:le(["k-tab-item k-menu-item",{active:e.label===e.modelValue}]),onClick:n[0]||(n[0]=s=>t.$emit("update:modelValue",e.label))},[U(t.$slots,"default",{},()=>[G(ee(e.label),1)],!0)],2))}});const mf=R(pf,[["__scopeId","data-v-7dc61aef"]]);function gf(e){e.component("k-layout",Du),e.component("k-status",Wu),e.component("k-numeric",Xu),e.component("k-card",nf),e.component("k-content",of),e.component("k-empty",df),e.component("k-tab-group",hf),e.component("k-tab-item",mf)}const vf=N({__name:"badge",props:{type:null},setup(e){return(t,n)=>(g(),_("span",{class:le(["k-badge",e.type])},[U(t.$slots,"default")],2))}});const _f=N({__name:"comment",props:{type:{type:String,default:"primary"},title:{type:String,required:!1}},setup(e){const t=e,n=Z(()=>{switch(t.type){case"success":return"check-full";case"error":return"times-full";case"warning":return"exclamation-full";default:return"info-full"}});return(s,r)=>{const i=E("k-icon");return g(),_("div",{class:le(["k-comment",e.type])},[V(i,{name:$(n)},null,8,["name"]),U(s.$slots,"default",{},()=>[b("p",null,ee(e.title),1)],!0)],2)}}});const yf=R(_f,[["__scopeId","data-v-ddbc0f20"]]),bf={class:"k-hint-content"},kf=N({__name:"hint",props:{placement:String,modelValue:{},name:{type:String,default:"question-empty"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=Z(()=>n.modelValue!==void 0);function r(){s.value&&t("update:modelValue",!n.modelValue)}return(i,u)=>{const c=E("k-icon"),o=E("el-tooltip");return g(),j(o,{placement:e.placement},{content:k(()=>[b("div",bf,[U(i.$slots,"default")])]),default:k(()=>[b("span",{class:le(["k-hint",{active:e.modelValue,pointer:$(s)}]),onClick:r},[V(c,{name:e.name},null,8,["name"])],2)]),_:3},8,["placement"])}}});function wf(e){e.component("k-badge",vf),e.component("k-comment",yf),e.component("k-hint",kf)}const xf=N({props:{name:String,tag:{default:"div"}},setup:({name:e,tag:t},{slots:n})=>()=>{var s;return ye(t,[...((s=n.default)==null?void 0:s.call(n))||[],...(ut[e]||[]).map(r=>ye(r.component))])}});var $f=Object.defineProperty,Cf=Object.getOwnPropertyNames,ie=(e,t)=>$f(e,"name",{value:t,configurable:!0}),Sf=(e,t)=>function(){return t||(0,e[Cf(e)[0]])((t={exports:{}}).exports,t),t.exports},Vf=Sf({"satori/packages/element/src/index.ts"(e,t){var n=Symbol.for("satori.element");function s(d){return d&&typeof d=="object"&&d[n]}ie(s,"isElement");function r(d){if(typeof d=="string"||typeof d=="number"||typeof d=="boolean"){if(d=""+d,d)return c("text",{content:d})}else{if(s(d))return d;if(!se(d))throw new TypeError(`Invalid content: ${d}`)}}ie(r,"toElement");function i(d){return Array.isArray(d)?d.map(r).filter(h=>h):[r(d)].filter(h=>h)}ie(i,"toElementArray");var u=class{get data(){return this.attrs}toString(d=!1){if(this.type==="text")return d?this.attrs.content:c.escape(this.attrs.content);const h=this.children.map(f=>f.toString(d)).join("");if(d)return h;const l=Object.entries(this.attrs).map(([f,a])=>se(a)?"":(f=ai(f),a===!0?` ${f}`:a===!1?` no-${f}`:` ${f}="${c.escape(""+a,!0)}"`)).join("");return this.children.length?`<${this.type}${l}>${h}</${this.type}>`:`<${this.type}${l}/>`}};ie(u,"ElementConstructor"),be(u,"name","Element"),be(u.prototype,n,!0);function c(d,...h){const l=Object.create(u.prototype);let f={},a=[];if(h[0]&&typeof h[0]=="object"&&!s(h[0])&&!Array.isArray(h[0])){const m=h.shift();for(const[v,p]of Object.entries(m))se(p)||(v==="children"?h.push(...jn(p)):f[v]=p)}for(const m of h)a.push(...i(m));return Object.assign(l,{type:d,attrs:f,children:a})}ie(c,"Element");var o=new Function("expr","context",`
  try {
    with (context) {
      return eval(expr)
    }
  } catch {}
`);(d=>{d.jsx=d,d.jsxs=d,d.jsxDEV=d,d.Fragment="template";function h(B,A){return typeof B!="string"?i(B):d.parse(B,A)}d.normalize=h,ie(h,"normalize");function l(B,A=!1){const M=B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return A?M.replace(/"/g,"&quot;"):M}d.escape=l,ie(l,"escape");function f(B){return B.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#(\d+);/g,(A,M)=>M==="38"?A:String.fromCharCode(+M)).replace(/&#x([0-9a-f]+);/gi,(A,M)=>M==="26"?A:String.fromCharCode(parseInt(M,16))).replace(/&(amp|#38|#x26);/g,"&")}d.unescape=f,ie(f,"unescape");function a(B,A={}){var W;const M=x(B);return A.caret?A.type&&((W=M[0])==null?void 0:W.type)!==A.type?void 0:M[0]:p(M,A.type||"*")[0]}d.from=a,ie(a,"from");const m=/ *([ >+~]) */g;function v(B){return B.split(",").map(A=>{const M=[];A=A.trim();let W,oe=" ";for(;W=m.exec(A);)M.push({type:A.slice(0,W.index),combinator:oe}),oe=W[1],A=A.slice(W.index+W[0].length);return M.push({type:A,combinator:oe}),M})}d.parseSelector=v,ie(v,"parseSelector");function p(B,A){if(typeof B=="string"&&(B=x(B)),typeof A=="string"&&(A=v(A)),!A.length)return;let M=[];const W=[];for(const[oe,pe]of B.entries()){const me=[],J=[...A,...M];M=[];let _e=!1;for(const T of J){const{type:C,combinator:D}=T[0];(C===pe.type||C==="*")&&(T.length===1?_e=!0:[" ",">"].includes(T[1].combinator)?me.push(T.slice(1)):T[1].combinator==="+"?M.push(T.slice(1)):A.push(T.slice(1))),D===" "&&me.push(T)}_e&&W.push(B[oe]),W.push(...p(pe.children,me))}return W}d.select=p,ie(p,"select");function y(B,A){if(B=B.trim(),!/^[\w.]+$/.test(B))return o(B,A)??"";let M=A;for(const W of B.split("."))if(M=M[W],se(M))return"";return M??""}d.interpolate=y,ie(y,"interpolate");const w=/<!--[\s\S]*?-->|<(\/?)([^!\s>/]*)([^>]*?)\s*(\/?)>/,O=/([^\s=]+)(?:="([^"]*)"|='([^']*)')?/g,ue=/([^\s=]+)(?:="([^"]*)"|='([^']*)'|=\{([^}]+)\})?/g,z=/\{([^}]*)\}/;function x(B,A){const M=[];function W(T){T&&M.push(d("text",{content:T}))}ie(W,"pushText");const oe=A?ue:O;let pe;for(;pe=w.exec(B);){me(B.slice(0,pe.index));const[T,C,D,re,Fe]=pe;if(B=B.slice(pe.index+T.length),T.startsWith("<!"))continue;const Ne={source:T,type:D||d.Fragment,close:C,empty:Fe,attrs:{}};let Dt;for(;Dt=oe.exec(re);){const[Wf,qe,ts,Ht=ts,Ft]=Dt;Ft?Ne.attrs[lt(qe)]=y(Ft,A):se(Ht)?qe.startsWith("no-")?Ne.attrs[lt(qe.slice(3))]=!1:Ne.attrs[lt(qe)]=!0:Ne.attrs[lt(qe)]=f(Ht)}M.push(Ne)}me(B);function me(T){if(T=T.replace(/^\s*\n\s*/,"").replace(/\s*\n\s*$/,""),A){let C;for(;C=z.exec(T);){const[D,re]=C;W(f(T.slice(0,C.index))),T=T.slice(C.index+D.length);const Fe=y(re,A);M.push(...i(Fe))}}W(f(T))}ie(me,"parseContent");const J=[d(d.Fragment)];function _e(T){for(;T>0;T--){const{children:C}=J.shift(),{source:D}=J[0].children.pop();J[0].children.push(d("text",{content:D})),J[0].children.push(...C)}}ie(_e,"rollback");for(const T of M)if(s(T))J[0].children.push(T);else if(T.close){let C=0;for(;C<J.length&&J[C].type!==T.type;)C++;if(C===J.length)J[0].children.push(d("text",{content:T.source}));else{_e(C);const D=J.shift();delete D.source}}else{const C=d(T.type,T.attrs);J[0].children.push(C),T.empty||(C.source=T.source,J.unshift(C))}return _e(J.length-1),J[0].children}d.parse=x,ie(x,"parse");function ne(B,A,M){const W=typeof B=="string"?x(B):B,oe=[];return W.forEach(pe=>{const{type:me,attrs:J,children:_e}=pe;let T=A[me]??A.default??!0;typeof T=="function"&&(T=T(J,_e,M)),T===!0?oe.push(d(me,J,ne(_e,A,M))):T!==!1&&oe.push(...h(T))}),typeof B=="string"?oe.join(""):oe}d.transform=ne,ie(ne,"transform");async function fe(B,A,M){const W=typeof B=="string"?x(B):B,oe=(await Promise.all(W.map(async pe=>{const{type:me,attrs:J,children:_e}=pe;let T=A[me]??A.default??!0;return typeof T=="function"&&(T=await T(J,_e,M)),T===!0?[d(me,J,await fe(_e,A,M))]:T!==!1?h(T):[]}))).flat(1);return typeof B=="string"?oe.join(""):oe}d.transformAsync=fe,ie(fe,"transformAsync");function ve(B,...A){return(...M)=>{const W=d(B);return A.forEach((oe,pe)=>{se(M[pe])||(W.attrs[oe]=M[pe])}),M[A.length]&&Object.assign(W.attrs,M[A.length]),W}}ie(ve,"createFactory"),d.warn=ie(()=>{},"warn");function ke(B){return(A,...M)=>{let W="base64://";return typeof M[0]=="string"&&(W=`data:${M.shift()};base64,`),Je("Buffer",A)?A=W+A.toString("base64"):Je("ArrayBuffer",A)&&(A=W+Un(A)),A.startsWith("base64://")&&(0,d.warn)('protocol "base64:" is deprecated and will be removed in the future, please use "data:" instead'),d(B,{...M[0],url:A})}}ie(ke,"createAssetFactory"),d.text=ve("text","content"),d.at=ve("at","id"),d.sharp=ve("sharp","id"),d.quote=ve("quote","id"),d.image=ke("image"),d.video=ke("video"),d.audio=ke("audio"),d.file=ke("file")})(c||(c={})),t.exports=c}});const Vt=Vf(),zf={class:"textarea"},Af=["value","onKeydown"],Tf=N({__name:"input",props:{target:{default:()=>document},modelValue:{default:""}},emits:["send","update:modelValue"],setup(e,{emit:t}){const n=e,s=Z({get:()=>n.modelValue,set:o=>t("update:modelValue",o)});function r(){s.value&&(t("send",Vt.escape(s.value)),s.value="")}function i(o){s.value=o.target.value}function u(o,d){for(const h of d.items){if(h.kind!=="file")continue;o.preventDefault();const l=h.getAsFile(),[f]=l.type.split("/",1);if(!["image","audio","video"].includes(f)){console.warn("Unsupported file type:",l.type);return}const a=new FileReader;a.addEventListener("load",function(){t("send",Vt(f,{url:a.result}).toString())},!1),a.readAsDataURL(l)}}dt(n.target,"drop",o=>{u(o,o.dataTransfer)}),dt(n.target,"dragover",o=>{o.preventDefault()});async function c(o){u(o,o.clipboardData)}return(o,d)=>(g(),_("div",zf,[b("input",{autocomplete:"off",step:"any",value:$(s),selectionStart:1,onInput:i,onPaste:c,onKeydown:cs(Be(r,["stop"]),["enter"])},null,40,Af)]))}});const t1=R(Tf,[["__scopeId","data-v-f868eb2f"]]),Lf=["b","strong","i","em","u","ins","s","del","code"],Qe=(e,t)=>e.map(({type:n,attrs:s,children:r})=>n==="text"?s.content:n==="at"?ye("span",`@${s.name}`):n==="image"?ye("img",{src:s.url}):n==="audio"?ye("audio",{src:s.url,controls:!0}):n==="video"?ye("video",{src:s.url,controls:!0}):Lf.includes(n)?ye(n,Qe(r)):n==="spl"?ye("span",{class:"spoiler"},Qe(r)):n==="p"||n==="message"?ye("p",Qe(r)):Qe(r)),Ef={name:"message-content",props:{content:{type:String,required:!0}},setup(e,t){return()=>ye("div",{class:"message-content"},Qe(Vt.parse(e.content)))}};const n1=R(Ef,[["__scopeId","data-v-ea532462"]]);var yt;(e=>{e.placement=Symbol("INJECTION_PLACEMENT"),e.teleport=Symbol("INJECTION_TELEPORT")})(yt||(yt={}));const If={key:0,class:"arrow"},Rf=N({__name:"popper",props:{placement:null,offset:null,arrow:{type:Boolean},active:{type:Boolean},transition:null},emits:["show","hide"],setup(e,{expose:t,emit:n}){const s=e,r=K(null),i=K(null),u=Nt(yt.teleport,"body"),c=Nt(yt.placement);return ce(i,o=>{if(n(o?"show":"hide",o),!o)return;xs(r.value,o,{placement:s.placement??c,modifiers:[{name:"offset",options:{offset:[0,s.offset??12]}},{name:"preventOverflow",options:{padding:{top:8,bottom:8,left:8,right:8}}},{name:"arrow",options:{element:".arrow"}}]}).update()}),t({trigger:r,popper:i}),(o,d)=>(g(),_(H,null,[b("div",{ref_key:"trigger",ref:r},[U(o.$slots,"default",{},void 0,!0)],512),(g(),j(us,{to:$(u)},[V(Ct,{name:e.transition},{default:k(()=>[e.active&&o.$slots.content?(g(),_("div",{key:0,class:"popper",ref_key:"popper",ref:i},[U(o.$slots,"content",{},void 0,!0),e.arrow?(g(),_("div",If)):X("",!0)],512)):X("",!0)]),_:3},8,["name"])],8,["to"]))],64))}});const Qn=R(Rf,[["__scopeId","data-v-752cf278"]]),s1=N({__name:"dropdown",props:{placement:null,offset:null,tooltip:null},setup(e){const t=K(!1);return(n,s)=>(g(),j(Qn,{placement:e.placement,offset:e.offset,arrow:!0,transition:"fade",active:t.value},{default:k(()=>[b("div",{class:"dropdown-trigger",onClick:s[0]||(s[0]=r=>t.value=!t.value)},[U(n.$slots,"default")])]),content:k(()=>[U(n.$slots,"content")]),_:3},8,["placement","offset","active"]))}}),Of={class:"tooltip-trigger"},r1=N({__name:"tooltip",props:{placement:null,content:null,offset:null,disable:{type:Boolean}},setup(e){const t=e,n=K(!1),s=K(null);ce(()=>t.disable,l=>{l&&(n.value=!1)});const r=["mouseenter","focus"],i=["mouseleave","blur"];let u;Lt(()=>{d(s.value.trigger)});function c(){t.disable||(window.clearTimeout(u),n.value=!0)}function o(){u=window.setTimeout(()=>{n.value=!1},300)}function d(l){for(const f of i)dt(l,f,o);for(const f of r)dt(l,f,c)}function h(l){d(l)}return(l,f)=>(g(),j(Qn,{ref_key:"root",ref:s,placement:e.placement,offset:e.offset,arrow:!0,transition:"fade",active:n.value,onShow:h},{default:k(()=>[b("div",Of,[U(l.$slots,"default")])]),content:k(()=>[U(l.$slots,"content",{},()=>[G(ee(e.content),1)])]),_:3},8,["placement","offset","active"]))}}),Mf=e=>({mounted(t){e.value=t},updated(t){e.value=t},beforeUnmount(){e.value=null}});function Xn(e){if(!e)return null;for(const t of e){if(typeof t=="object")switch(t.type){case hs:continue;case ds:break;case H:return Xn(t.children);default:return typeof t.type=="string",t}return ye("span",t)}}const xt=N({props:{class:{}},emits:["resize"],setup(e,{attrs:t,slots:n,emit:s}){let r;const i=K();ce(i,o=>{r==null||r.disconnect(),o&&(r=new ResizeObserver(u),r.observe(o))});function u(){if(!i.value)return;const o=+getComputedStyle(i.value).marginTop.slice(0,-2);s("resize",i.value.offsetHeight+o)}const c=Mf(i);return()=>{var d;const o=Xn((d=n.default)==null?void 0:d.call(n,t));return fs(o,[[c]])}}}),on=2;class Bf{constructor(t){this.param=t,this.sizes=new Map([["header",0],["footer",0]]),this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=0,this.offset=0,this.direction=0,this.range=Oe({}),this.saveSize=(n,s)=>{this.sizes.set(n,s),this.calcType===0?(this.fixedSizeValue=s,this.calcType=1):this.calcType===1&&this.fixedSizeValue!==s&&(this.calcType=2,delete this.fixedSizeValue),this.calcType!==1&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.count,this.param.uids.length)?(this.firstRangeTotalSize=[...this.sizes.values()].reduce((r,i)=>r+i,0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)},this.checkRange(0,t.count)}updateUids(t){this.param.uids=t,this.sizes.forEach((n,s)=>{!t.includes(s)&&s!=="header"&&s!=="footer"&&this.sizes.delete(s)})}handleDataChange(){let t=this.range.start;this.direction<0?t=t-on:this.direction>0&&(t=t+on),t=Math.max(t,0),this.updateRange(this.range.start,this.getEndByStart(t))}handleSlotSizeChange(){this.handleDataChange()}handleScroll(t){this.direction=Math.sign(t-this.offset),this.offset=t,this.direction<0?this.handleFront():this.direction>0&&this.handleBehind()}handleFront(){const t=this.getScrollOvers();if(t>this.range.start)return;const n=Math.max(t-this.param.buffer,0);this.checkRange(n,this.getEndByStart(n))}handleBehind(){const t=this.getScrollOvers();t<this.range.start+this.param.buffer||this.checkRange(t,this.getEndByStart(t))}getScrollOvers(){const t=this.offset-this.sizes.get("header");if(t<=0)return 0;if(this.isFixedType())return Math.floor(t/this.fixedSizeValue);let n=0,s=0,r=0,i=this.param.uids.length;for(;n<=i;){if(s=Math.floor((i+n)/2),r=this.getOffset(s),r===t)return s;r<t?n=s+1:r>t&&(i=s-1)}return n>0?--n:0}getUidOffset(t){return this.getOffset(this.param.uids.indexOf(t))}getOffset(t){if(!t)return 0;let n=0;for(let s=0;s<t;s++)n=n+(this.sizes.get(this.param.uids[s])??this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,t),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),n}isFixedType(){return this.calcType===1}getLastIndex(){return this.param.uids.length}checkRange(t,n){const s=this.param.count,r=this.param.uids.length;r<=s?(t=0,n=r):n-t<s-1&&(t=n-s),this.range.start!==t&&this.updateRange(t,n)}updateRange(t,n){this.range.start=t,this.range.end=n,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind()}getEndByStart(t){return Math.min(t+this.param.count,this.param.uids.length)}getPadFront(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getOffset(this.range.start)}getPadBehind(){const t=this.range.end,n=this.getLastIndex();return this.isFixedType()?(n-t)*this.fixedSizeValue:this.lastCalcIndex===n?this.getOffset(n)-this.getOffset(t):(n-t)*this.getEstimateSize()}getEstimateSize(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimated}}const i1=N({__name:"list",props:{keyName:{type:String,default:"id"},data:{type:Array,required:!0},count:{default:50},estimated:{default:50},tag:{default:"div"},pinned:Boolean,activeKey:{default:""},threshold:{default:0}},emits:["item-click","scroll","top","bottom","update:activeKey"],setup(e,{emit:t}){const n=e,s=Z(()=>n.data.slice(o.start,o.end)),r=K();ce(()=>n.data.length,()=>{const{scrollTop:p,clientHeight:y,scrollHeight:w}=r.value.wrap$;(!n.pinned||Math.abs(p+y-w)<1)&&ps(f),c.updateUids(d()),c.handleDataChange()}),ce(()=>n.activeKey,p=>{p&&(t("update:activeKey",null),l(p,!0))});const i=K(),u=Z(()=>{const{padFront:p,padBehind:y}=o;return{padding:`${p}px 0px ${y}px`}}),c=new Bf({count:n.count,estimated:n.estimated,buffer:Math.floor(n.count/3),uids:d()}),o=c.range;function d(){const{keyName:p,data:y}=n;return y.map(w=>w[p])}Lt(()=>{n.activeKey?l(n.activeKey):f()});function h(p,y=!1){y?r.value.wrap$.scrollTo({top:p,behavior:"smooth"}):r.value.wrap$.scrollTop=p}function l(p,y=!1){h(c.getUidOffset(p),y)}function f(){if(i.value){const p=i.value.offsetTop;h(p),setTimeout(()=>{const y=Math.ceil(r.value.wrap$.scrollTop),w=Math.ceil(r.value.wrap$.clientHeight),O=Math.ceil(r.value.wrap$.scrollHeight);y+w<O&&f()},3)}}let a=0;ms(()=>{r.value.setScrollTop(a)});function m(p){const y=Math.ceil(a=r.value.wrap$.scrollTop),w=Math.ceil(r.value.wrap$.clientHeight),O=Math.ceil(r.value.wrap$.scrollHeight);y<0||y+w>O+1||!O||(c.handleScroll(y),v(y,w,O,p))}function v(p,y,w,O){t("scroll",O,c.range),c.direction<0&&n.data.length&&p-n.threshold<=0?t("top"):c.direction>0&&p+y+n.threshold>=w&&t("bottom")}return(p,y)=>{const w=E("el-scrollbar");return g(),j(w,{ref_key:"root",ref:r,onScroll:m},{default:k(()=>[p.$slots.header?(g(),j($(xt),{key:0,onResize:y[0]||(y[0]=O=>$(c).saveSize("header",O))},{default:k(()=>[b("div",null,[U(p.$slots,"header")])]),_:3})):X("",!0),(g(),j(gs(e.tag),{class:"virtual-list-wrapper",style:Tt($(u))},{default:k(()=>[(g(!0),_(H,null,ge($(s),(O,ue)=>(g(),j($(xt),{onResize:z=>$(c).saveSize(O[e.keyName],z)},{default:k(()=>[U(p.$slots,"default",un(O,{index:ue+$(o).start}))]),_:2},1032,["onResize"]))),256))]),_:3},8,["style"])),p.$slots.footer?(g(),j($(xt),{key:1,onResize:y[1]||(y[1]=O=>$(c).saveSize("footer",O))},{default:k(()=>[b("div",null,[U(p.$slots,"footer")])]),_:3})):X("",!0),b("div",{ref_key:"shepherd",ref:i},null,512)]),_:3},512)}}}),l1=$s.service,o1=Cs,a1=Ss;function c1(e){e.use(Vs),e.component("k-markdown",Nr),e.use(wl),e.use(ml),e.use(Eu),e.use(gf),e.use(wf),e.component("k-slot",xf)}const jf=["src"],Uf=N({__name:"overlay",setup(e){const t=K(1),n=K(0),s=K(null),r=Z(()=>`scale(${t.value}) rotate(${n.value}deg)`),i=Z(()=>{if(!xe.overlayImage)return;const a=Array.from(document.querySelectorAll(".chat-image")),m=a.indexOf(xe.overlayImage);return{prev:a[m-1],next:a[m+1]}}),u=Z(()=>{const{naturalHeight:a,naturalWidth:m}=xe.overlayImage,v=innerHeight-d*2,p=innerWidth-h*2;return Math.min(1,v/a,p/m)});ce(()=>xe.overlayImage,(a,m)=>{if(t.value=1,n.value=0,!a)return o(s.value,m);s.value&&(s.value.style.transition="0.3s transform ease",l(s.value))});function c(a){a!==void 0&&(xe.overlayImage=a)}function o(a,m=xe.overlayImage){const{height:v,width:p}=m,{left:y,top:w}=m.getBoundingClientRect();a.style.width=p+"px",a.style.height=v+"px",a.style.left=y+"px",a.style.top=w+"px",a.style.transition="0.3s ease"}const d=0,h=0;function l(a){const{naturalHeight:m,naturalWidth:v}=xe.overlayImage,p=u.value,y=v*p,w=m*p;a.style.width=y+"px",a.style.height=w+"px",a.style.left=(innerWidth-y)/2+"px",a.style.top=(innerHeight-w)/2+"px"}Lt(()=>{document.addEventListener("keydown",f)}),vs(()=>{document.removeEventListener("keydown",f)});function f(a){xe.overlayImage&&(a.preventDefault(),a.key==="ArrowUp"||a.key==="ArrowLeft"?c(i.value.prev):a.key==="ArrowDown"||a.key==="ArrowRight"?c(i.value.next):a.key==="Escape"?c(null):a.key==="Enter"&&(xe.overlayImage.offsetParent.scrollIntoView({behavior:"smooth"}),c(null)))}return(a,m)=>{const v=E("k-icon"),p=E("el-tooltip");return g(),j(Ct,{name:"overlay"},{default:k(()=>[$(xe).overlayImage?(g(),_("div",{key:0,class:"image-viewer",onClick:m[8]||(m[8]=y=>c(null))},[b("span",{class:le(["button left",{disabled:!$(i).prev}]),onClick:m[0]||(m[0]=Be(y=>c($(i).prev),["stop"]))},[V(v,{name:"chevron-left"})],2),b("span",{class:le(["button right",{disabled:!$(i).next}]),onClick:m[1]||(m[1]=Be(y=>c($(i).next),["stop"]))},[V(v,{name:"chevron-right"})],2),b("span",{class:"button bottom",onClick:m[7]||(m[7]=Be(()=>{},["stop"]))},[V(p,{placement:"top",content:"缩小",offset:20},{default:k(()=>[V(v,{name:"search-minus",onClick:m[2]||(m[2]=y=>t.value-=.2)})]),_:1}),V(p,{placement:"top",content:"放大",offset:20},{default:k(()=>[V(v,{name:"search-plus",onClick:m[3]||(m[3]=y=>t.value+=.2)})]),_:1}),V(p,{placement:"top",content:"复原",offset:20},{default:k(()=>[V(v,{name:"expand",onClick:m[4]||(m[4]=y=>(t.value=1,n.value=0))})]),_:1}),V(p,{placement:"top",content:"逆时针旋转",offset:20},{default:k(()=>[V(v,{name:"undo",onClick:m[5]||(m[5]=y=>n.value-=90)})]),_:1}),V(p,{placement:"top",content:"逆时针旋转",offset:20},{default:k(()=>[V(v,{name:"redo",onClick:m[6]||(m[6]=y=>n.value+=90)})]),_:1})]),V(Ct,{appear:"",duration:1,onBeforeAppear:o,onAfterAppear:l},{default:k(()=>[b("img",{ref_key:"img",ref:s,style:Tt({transform:$(r)}),src:$(xe).overlayImage.src},null,12,jf)]),_:1})])):X("",!0)]),_:1})}}});var Kn=Object.defineProperty,Pf=(e,t,n)=>t in e?Kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,he=(e,t)=>Kn(e,"name",{value:t,configurable:!0}),ze=(e,t,n)=>(Pf(e,typeof t!="symbol"?t+"":t,n),n);function zt(e){return e!==null&&e!==!1&&e!==void 0}he(zt,"isBailed");var Bt=class{constructor(e){Y(this,"isActive",!1);Y(this,"_tasks",new Set);Y(this,"_hooks",{});this.root=e,be(this,q.current,e),be(this.on("internal/hook",function(t,n,s){const r=s?"unshift":"push",{scope:i}=this[q.current],{runtime:u,disposables:c}=i;if(t==="ready"&&this.isActive)i.ensure(async()=>n());else{if(t==="dispose")return c[r](n),be(n,"name","event <dispose>"),()=>Ee(c,n);if(t==="fork")return u.forkables[r](n),i.collect("event <fork>",()=>Ee(u.forkables,n))}}),q.static,e.scope)}queue(e){this[q.current].scope.ensure(async()=>e)}async flush(){for(;this._tasks.size;)await Promise.all(Array.from(this._tasks))}*getHooks(e,t){const n=this._hooks[e]||[];for(const[s,r]of n.slice()){const i=t==null?void 0:t[q.filter];i&&!i.call(t,s)||(yield r)}}async parallel(...e){const t=typeof e[0]=="object"?e.shift():null,n=e.shift();await Promise.all([...this.getHooks(n,t)].map(async s=>{await s.apply(t,e)}))}emit(...e){const t=typeof e[0]=="object"?e.shift():null,n=e.shift();for(const s of this.getHooks(n,t))s.apply(t,e)}async serial(...e){const t=typeof e[0]=="object"?e.shift():null,n=e.shift();for(const s of this.getHooks(n,t)){const r=await s.apply(t,e);if(zt(r))return r}}bail(...e){const t=typeof e[0]=="object"?e.shift():null,n=e.shift();for(const s of this.getHooks(n,t)){const r=s.apply(t,e);if(zt(r))return r}}register(e,t,n,s){const r=this.root.config.maxListeners;t.length>=r&&this.root.emit("internal/warning",`max listener count (${r}) for ${e} exceeded, which may be caused by a memory leak`);const i=this[q.current];return t[s?"unshift":"push"]([i,n]),i.state.collect(e,()=>this.unregister(t,n))}unregister(e,t){const n=e.findIndex(([s,r])=>r===t);if(n>=0)return e.splice(n,1),!0}on(e,t,n=!1){var u;const s=this.bail(this,"internal/hook",e,t,n);if(s)return s;const r=(u=this._hooks)[e]||(u[e]=[]),i=typeof e=="string"?`event <${e}>`:"event (Symbol)";return this.register(i,r,t,n)}once(e,t,n=!1){const s=this.on(e,function(...r){return s(),t.apply(this,r)},n);return s}off(e,t){return this.unregister(this._hooks[e]||[],t)}async start(){this.isActive=!0;const e=this._hooks.ready||[];for(;e.length;){const[t,n]=e.shift();t.scope.ensure(async()=>n())}await this.flush()}async stop(){this.isActive=!1,this.root.scope.reset()}};he(Bt,"Lifecycle");ze(Bt,"methods",["on","once","off","before","after","parallel","emit","serial","bail","start","stop"]);function jt(e){return!(!e.prototype||e.prototype.constructor!==e)}he(jt,"isConstructor");function kt(e){return Object.getPrototypeOf(e).constructor}he(kt,"getConstructor");function tt(e,t){if(t===!1)return;t===!0&&(t=void 0),t??(t={});const n=e.Config||e.schema;return n&&e.schema!==!1&&(t=n(t)),t}he(tt,"resolveConfig");var Ut=class{constructor(e,t){Y(this,"uid");Y(this,"ctx");Y(this,"disposables",[]);Y(this,"error");Y(this,"status","pending");Y(this,"proxy");Y(this,"context");Y(this,"acceptors",[]);Y(this,"tasks",new Set);Y(this,"hasError",!1);this.parent=e,this.config=t,this.uid=e.registry?e.registry.counter:0,this.ctx=this.context=e.extend({scope:this}),this.proxy=new Proxy({},{get:(n,s)=>Reflect.get(this.config,s)})}get _config(){return this.runtime.isReactive?this.proxy:this.config}collect(e,t){const n=be(()=>(Ee(this.disposables,n),t()),"name",e);return this.disposables.push(n),n}restart(){this.reset(),this.start()}_getStatus(){return this.uid===null?"disposed":this.hasError?"failed":this.tasks.size?"loading":this.ready?"active":"pending"}_updateStatus(e){const t=this.status;e==null||e(),this.status=this._getStatus(),t!==this.status&&this.context.emit("internal/status",this,t)}ensure(e){const t=e().catch(n=>{this.context.emit("internal/warning",n),this.cancel(n)}).finally(()=>{this._updateStatus(()=>this.tasks.delete(t)),this.context.events._tasks.delete(t)});this._updateStatus(()=>this.tasks.add(t)),this.context.events._tasks.add(t)}cancel(e){this.error=e,this._updateStatus(()=>this.hasError=!0),this.reset()}setup(){this.runtime.using.length&&(be(this.context.on("internal/before-service",e=>{this.runtime.using.includes(e)&&(this._updateStatus(),this.reset())}),q.static,this),be(this.context.on("internal/service",e=>{this.runtime.using.includes(e)&&this.start()}),q.static,this))}get ready(){return this.runtime.using.every(e=>this.ctx[e])}reset(){this.disposables=this.disposables.splice(0,1/0).filter(e=>{if(this.uid!==null&&e[q.static]===this)return!0;e()})}accept(...e){var s;const t=Array.isArray(e[0])?e.shift():null,n={keys:t,callback:e[0],...e[1]};return this.acceptors.push(n),n.immediate&&((s=n.callback)==null||s.call(n,this.config)),this.collect(`accept <${(t==null?void 0:t.join(", "))||"*"}>`,()=>Ee(this.acceptors,n))}decline(e){return this.accept(e,()=>!0)}checkUpdate(e,t){if(t)return[!0,!0];if(t===!1)return[!1,!1];const n=Object.create(null),s=he(o=>{const d=n[o]??(n[o]=!Re(this.config[o],e[o]));return i||(i=d),d},"checkPropertyUpdate"),r=new Set;let i=!1,u=!1,c=this.runtime.isReactive||null;for(const{keys:o,callback:d,passive:h}of this.acceptors){if(!o)c||(c=!h);else if(h)o==null||o.forEach(f=>r.add(f));else{let f=!1;for(const a of o)f||(f=s(a));if(!f)continue}(d==null?void 0:d(e))&&(u=!0)}for(const o in{...this.config,...e})if(c!==!1&&!(o in n)&&!r.has(o)){const d=s(o);c===null&&(u||(u=d))}return[i,u]}};he(Ut,"EffectScope");var Jn=class extends Ut{constructor(t,n,s){super(t,n);Y(this,"dispose");this.runtime=s,this.dispose=be(t.scope.collect(`fork <${t.runtime.name}>`,()=>{this.uid=null,this.reset();const r=Ee(s.disposables,this.dispose);return Ee(s.children,this)&&!s.children.length&&t.registry.delete(s.plugin),this.context.emit("internal/fork",this),r}),q.static,s),s.children.push(this),s.disposables.push(this.dispose),this.context.emit("internal/fork",this),s.isReusable&&this.setup(),this.start()}start(){if(this.ready){this._updateStatus(()=>this.hasError=!1);for(const t of this.runtime.forkables)this.ensure(async()=>t(this.context,this._config))}}update(t,n){const s=this.config,r=this.runtime.isForkable?this:this.runtime;if(r.config!==s)return;const i=tt(this.runtime.plugin,t),[u,c]=r.checkUpdate(i,n);this.context.emit("internal/before-update",this,t),this.config=i,r.config=i,u&&this.context.emit("internal/update",this,s),c&&r.restart()}};he(Jn,"ForkScope");var At=class extends Ut{constructor(t,n,s){super(t[q.current],s);Y(this,"runtime",this);Y(this,"schema");Y(this,"using",[]);Y(this,"forkables",[]);Y(this,"children",[]);Y(this,"isReusable",!1);Y(this,"isReactive",!1);Y(this,"apply",(t,n)=>{const s=this.plugin;if(typeof s!="function")this.ensure(async()=>s.apply(t,n));else if(jt(s)){const r=new s(t,n),i=r[q.immediate];i&&(t[i]=r),r.fork&&this.forkables.push(r.fork.bind(r))}else this.ensure(async()=>s(t,n))});this.plugin=n,t.set(n,this),n&&this.setup()}get isForkable(){return this.forkables.length>0}get name(){if(!this.plugin)return"root";const{name:t}=this.plugin;return!t||t==="apply"?"anonymous":t}fork(t,n){return new Jn(t,n,this)}dispose(){return this.uid=null,this.reset(),this.context.emit("internal/runtime",this),!0}setup(){this.schema=this.plugin.Config||this.plugin.schema,this.using=this.plugin.using||[],this.isReusable=this.plugin.reusable,this.isReactive=this.plugin.reactive,this.context.emit("internal/runtime",this),this.isReusable?this.forkables.push(this.apply):super.setup(),this.restart()}reset(){super.reset();for(const t of this.children)t.reset()}start(){if(this.ready){this._updateStatus(()=>this.hasError=!1),!this.isReusable&&this.plugin&&this.apply(this.context,this._config);for(const t of this.children)t.start()}}update(t,n){this.isForkable&&this.context.emit("internal/warning",`attempting to update forkable plugin "${this.plugin.name}", which may lead to unexpected behavior`);const s=this.config,r=tt(this.runtime.plugin||kt(this.context),t),[i,u]=this.checkUpdate(r,n),c=this.children.find(o=>o.config===s);this.config=r,c&&(this.context.emit("internal/before-update",c,t),c.config=r,i&&this.context.emit("internal/update",c,s)),u&&this.restart()}};he(At,"MainScope");function Yn(e){return e&&typeof e=="object"&&typeof e.apply=="function"}he(Yn,"isApplicable");var Pt=class extends Map{constructor(t,n){super();Y(this,"_counter",0);this.root=t,be(this,q.current,t),t.scope=new At(this,null,n),t.scope.runtime.isReactive=!0}get counter(){return++this._counter}resolve(t){return t&&(typeof t=="function"?t:t.apply)}get(t){return super.get(this.resolve(t))}has(t){return super.has(this.resolve(t))}set(t,n){return super.set(this.resolve(t),n)}delete(t){t=this.resolve(t);const n=this.get(t);return n?(super.delete(t),n.dispose()):!1}using(t,n){return this.plugin({using:t,apply:n,name:n.name})}plugin(t,n){if(typeof t!="function"&&!Yn(t))throw new Error('invalid plugin, expect function or object with an "apply" method');if(n=tt(t,n),!n)return;const s=this[q.current];let r=this.get(t);return r?(r.isForkable||this.root.emit("internal/warning",`duplicate plugin detected: ${t.name}`),r.fork(s,n)):(r=new At(this,t,n),r.fork(s,n))}dispose(t){return this.delete(t)}};he(Pt,"Registry");ze(Pt,"methods",["using","plugin","dispose"]);var es=class{constructor(e){const t=tt(kt(this),e),n=he(s=>{if(s){n(Object.getPrototypeOf(s));for(const r of Object.getOwnPropertySymbols(s))this[r]=new s[r](this,t)}},"attach");this.root=this,this.mapping=Object.create(null),n(this[es.internal])}[Symbol.for("nodejs.util.inspect.custom")](){return`Context <${this.runtime.name}>`}get events(){return this.lifecycle}get state(){return this.scope}extend(e={}){return Object.assign(Object.create(this),e)}isolate(e){const t=Object.create(this.mapping);for(const n of e)t[n]=Symbol(n);return this.extend({mapping:t})}},q=es;he(q,"Context");ze(q,"config",Symbol("config"));ze(q,"events",Symbol("events"));ze(q,"static",Symbol("static"));ze(q,"filter",Symbol("filter"));ze(q,"source",Symbol("source"));ze(q,"current",Symbol("current"));ze(q,"internal",Symbol("internal"));ze(q,"immediate",Symbol("immediate"));(e=>{function t(r,i){for(const u of i.methods||[])be(e.prototype,u,function(...c){return this[r][u](...c)});for(const u of i.properties||[])Object.defineProperty(e.prototype,u,{configurable:!0,get(){return this[r][u]},set(c){this[r][u]=c}})}e.mixin=t,he(t,"mixin");function n(r,i={}){const u=typeof r=="symbol"?r:Symbol(r);if(Object.defineProperty(this.prototype,r,{configurable:!0,get(){const c=this.mapping[r]||u,o=this.root[c];if(o)return be(o,e.current,this),o},set(c){const o=this.mapping[r]||u,d=this.root[o];if(d===c)return;const h=Object.create(null);if(h[e.filter]=l=>this.mapping[r]===l.mapping[r],c&&d&&typeof r=="string")throw new Error(`service ${r} has been registered`);typeof r=="string"&&this.emit(h,"internal/before-service",r,c),this.root[o]=c,c&&typeof c=="object"&&be(c,e.source,this),typeof r=="string"&&this.emit(h,"internal/service",r,d)}}),jt(i)){const c=s(this.prototype);c[u]=i}t(r,i)}e.service=n,he(n,"service");function s(r){if(Object.prototype.hasOwnProperty.call(r,e.internal))return r[e.internal];const i=s(Object.getPrototypeOf(r));return r[e.internal]=Object.create(i)}he(s,"ensureInternal")})(q||(q={}));q.prototype[q.internal]=Object.create(null);q.service("registry",Pt);q.service("lifecycle",Bt);q.mixin("state",{properties:["config","runtime"],methods:["collect","accept","decline"]});var Df=class{constructor(e,t,n){this.ctx=e,kt(e.root).service(t),be(this,q.current,e),n&&(this[q.immediate]=t),e.on("ready",async()=>{await Promise.resolve(),await this.start(),e[t]=this}),e.on("dispose",async()=>{e[t]=null,await this.stop()})}start(){}stop(){}get caller(){return this[q.current]}};he(Df,"Service");const $t=Oe({});class Hf{constructor(t){if(this.options=t,this._disposables=[],Object.assign(this,Bn(t,["icon","name","desc","position"])),"path"in t){const{path:n,id:s=n,component:r}=t;this._disposables.push(Le.addRoute({path:n,name:s,component:r,meta:{activity:this}})),this.id??(this.id=n)}this.order??(this.order=0),this.authority??(this.authority=0),this.fields??(this.fields=[]),$t[this.id]=this}get icon(){return wt(this.options.icon??"activity:default")}get name(){return wt(this.options.name??this.id)}get desc(){return wt(this.options.desc)}get position(){if(!Ye.bail("activity",this)&&this.fields.every(t=>we[t])&&!(this.when&&!this.when()))return this.options.position??"top"}dispose(){var n;this._disposables.forEach(s=>s());const t=Le.currentRoute.value;if(((n=t==null?void 0:t.meta)==null?void 0:n.activity)===this&&Le.push({path:"/",query:{redirect:t.fullPath}}),$t[this.id])return delete $t[this.id],!0}}const ut=Oe({}),Le=ys({history:bs(Ls.uiPath),linkActiveClass:"active",routes:[]}),Pe=Oe({});function u1(e){return typeof e=="function"?e():e}class Ff extends q{addView(t){return this.slot(t)}addPage(t){return this.page(t)}slot(t){var r;t.order??(t.order=0),cn(t.component);const n=ut[r=t.type]||(ut[r]=[]),s=n.findIndex(i=>i.order<t.order);return s>=0?n.splice(s,0,t):n.push(t),this.state.collect("view",()=>Ee(n,t))}page(t){const n=new Hf(t);return this.state.collect("page",()=>n.dispose())}}const Ye=new Ff;Ye.slot({type:"global",component:Uf});Ye.on("activity",e=>!e);function f1(e){return e}async function Nf(e){if(Pe[e])return;if(e.endsWith(".css")){Pe[e]=Ye.plugin(s=>{const r=document.createElement("link");r.rel="stylesheet",r.href=e,document.head.appendChild(r),s.on("dispose",()=>{document.head.removeChild(r)})});return}const t=await Ts(()=>import(e),[]);Pe[e]=Ye.plugin(t.default);const{redirect:n}=Le.currentRoute.value.query;if(typeof n=="string"){const s=Le.resolve(n);s.matched.length&&Le.replace(s)}}const qf=new Promise(e=>{ce(()=>we.entry,async(t,n)=>{t||(t=[]);for(const s in Pe)t.includes(s)||(Pe[s].dispose(),delete Pe[s]);await Promise.all(t.map(s=>Nf(s).catch(console.error))),n||e()},{deep:!0})});Le.beforeEach(async(e,t)=>{if(!e.matched.length)return t===ks&&(await qf,e=Le.resolve(e),e.matched.length)?e:{path:"/",query:{redirect:e.fullPath}}});var an;(e=>{function t(s,r=[]){return N({render:()=>r.every(i=>we[i])?s():null})}e.create=t;function n({type:s,icon:r,fields:i,title:u,content:c}){return s?N(()=>()=>{if(!i.every(d=>we[d]))return;let o=c(we);if(!se(o))return s==="size"&&(o>=(1<<20)*1e3?o=(o/(1<<30)).toFixed(1)+" GB":o>=(1<<10)*1e3?o=(o/(1<<20)).toFixed(1)+" MB":o=(o/(1<<10)).toFixed(1)+" KB"),ye(E("k-numeric"),{icon:r,title:u},()=>[o])}):N(()=>()=>{if(i.every(o=>we[o]))return ye(E("k-numeric"),{icon:r,title:u},()=>c(we))})}e.numeric=n})(an||(an={}));export{Hf as Activity,an as Card,e1 as ChatImage,t1 as ChatInput,Ff as Context,s1 as Dropdown,ki as IconClose,Vi as IconEllipsis,Nn as IconExternal,Wn as IconEye,qn as IconEyeSlash,n1 as MessageContent,Qn as Popper,Ge as Schema,nn as Time,r1 as Tooltip,xt as VirtualItem,i1 as VirtualList,$t as activities,Un as arrayBufferToBase64,ii as base64ToArrayBuffer,Pn as camelCase,lt as camelize,li as capitalize,Ie as clone,Ls as config,Es as connect,ei as contain,Jf as createStorage,ri as deduplicate,Re as deepEqual,c1 as default,f1 as defineExtension,be as defineProperty,ni as difference,Pe as extensions,et as getChoices,vt as getFallback,u1 as getValue,Ls as global,ct as hasTitle,ai as hyphenate,Eu as icons,mi as inferFallback,yt as injections,ti as intersection,Je as is,_t as isLeftAsideOpen,se as isNullable,gt as isObjectSchema,Ze as isPlainObject,l1 as loading,jn as makeArray,o1 as message,a1 as messageBox,Yr as noop,Bn as omit,Dn as paramCase,Mn as pick,Et as receive,Ee as remove,Ye as root,Le as router,ci as sanitize,Yf as send,oi as snakeCase,ht as socket,we as store,Hn as trimSlash,Mt as uncapitalize,si as union,Ke as validate,Ue as valueMap,ut as views};
