var y=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var j=Object.prototype.hasOwnProperty;var _=(t,e)=>()=>(t&&(e=t(t=0)),e);var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var s=(t,e,a,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of w(e))!j.call(t,o)&&o!==a&&y(t,o,{get:()=>e[o],enumerable:!(r=O(e,o))||r.enumerable});return t},n=(t,e,a)=>(s(t,e,"default"),a&&s(a,e,"default"));var h=t=>s(y({},"__esModule",{value:!0}),t);var p={};import*as H from"https://registry.koishi.chat/modules/koishi/index.js";var m=_(()=>{n(p,H)});var u={};import*as I from"https://registry.koishi.chat/modules/@koishijs/helpers/index.js";var d=_(()=>{n(u,I)});var F=C((K,b)=>{var i=Object.defineProperty,M=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,q=Object.prototype.hasOwnProperty,z=(t,e)=>i(t,"name",{value:e,configurable:!0}),D=(t,e)=>{for(var a in e)i(t,a,{get:e[a],enumerable:!0})},N=(t,e,a,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of k(e))!q.call(t,o)&&o!==a&&i(t,o,{get:()=>e[o],enumerable:!(r=M(e,o))||r.enumerable});return t},S=t=>N(i({},"__esModule",{value:!0}),t),v={};D(v,{Config:()=>B,apply:()=>g,name:()=>J});b.exports=S(v);var l=(m(),h(p)),A=(d(),h(u)),E={commands:{echo:{description:"向当前上下文发送消息",options:{anonymous:"匿名发送消息",forceAnonymous:"强制匿名发送消息",escape:"发送转义消息",unescape:"发送反转义消息",user:"发送到用户",channel:"发送到频道",guild:"指定群组编号"},messages:{"expect-text":"请输入要发送的文本。","platform-not-found":"找不到指定的平台。"}}}},J="echo",B=l.Schema.object({});function g(t){t.i18n.define("zh",E),t.command("echo <message:text>",{authority:2}).option("escape","-e",{authority:3}).option("unescape","-E",{authority:3}).option("user","-u [user:user]",{authority:3}).option("channel","-c [channel:channel]",{authority:3}).option("guild","-g [guild:string]",{authority:3}).action(async({options:e,session:a},r)=>{if(!r)return a.text(".expect-text");e.unescape&&(r=l.segment.unescape(r)),e.escape&&(r=l.segment.escape(r));let o=e.user||e.channel;if(o){let[x,f]=(0,A.parsePlatform)(o),c=t.bots.find(P=>P.platform===x);if(c)e.user?await c.sendPrivateMessage(f,r):await c.sendMessage(f,r,e.guild);else return a.text(".platform-not-found");return}return r})}z(g,"apply")});export default F();
