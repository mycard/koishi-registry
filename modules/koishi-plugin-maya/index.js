var I=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var B=Object.prototype.hasOwnProperty;var L=(s,t)=>()=>(s&&(t=s(s=0)),t);var Y=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var C=(s,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of j(t))!B.call(s,e)&&e!==n&&I(s,e,{get:()=>t[e],enumerable:!(o=S(t,e))||o.enumerable});return s},x=(s,t,n)=>(C(s,t,"default"),n&&C(n,t,"default"));var N=s=>C(I({},"__esModule",{value:!0}),s);var b={};import*as U from"https://registry.koishi.chat/modules/koishi/index.js";var z=L(()=>{x(b,U)});var A=Y((W,P)=>{P.exports={commands:{maya:{description:"玛雅日历换算",messages:{"invalid-date":"请输入正确的日期。"}}}}});var q=Y(u=>{Object.defineProperty(u,"__esModule",{value:!0});u.apply=u.Config=u.name=void 0;var T=(z(),N(b)),p=[0,31,28,31,30,31,30,31,31,30,31,30,31],E=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],H=["Pop","Wo'","Sip","Sotz'","Sek","Xul","Yaxk'in","Mol","Ch'en","Yax","Sak'","Keh","Mak","K'ank'in","Muwan","Pax","K'ayab","Kumk'u","Wayeb"],J=["Kin","Uinal","Tun","Ka'tun","Bak'tun","Pictun","Kalabtun","K'inchiltun","Alautun"],O=["Ajaw","Imix","Ik'","Ak'bal","K'an","Chikchan","Kimi","Manik'","Lamat","Muluk","Ok","Chuwen","Eb","Ben","Ix","Men","K'ib","Kaban","Etz'nab","Kawak"];function w(s){return s%4===0&&(s%100!==0||s%400===0)}var r=class{constructor(t){this.stamp=t}compare(t){return this.stamp>t.stamp?1:this.stamp<t.stamp?-1:0}getDelta(t){return this.stamp-t.stamp}static fromGreg(t,n,o){let e=0,a=-3113,i=8,f=11;t<0&&(t+=1);let m=t-a-1;m<0&&(m=0);let K=0,h=a-a%4,g=t-1-(t>0?(t-1)%4:4+(t-1)%4);h<=g&&(K=Math.floor((g-h)/4)+1);let k=0,d=a-a%100,M=t-1-(t>0?(t-1)%100:100+(t-1)%100);d<=M&&(k=Math.floor((M-d)/100)+1);let c=0,v=a-a%400,G=t-1-(t>0?(t-1)%400:400+(t-1)%400);if(v<=G&&(c=Math.floor((G-v)/400)+1),e+=m*365+K-k+c,a<t){for(let l=i+1;l<=12;l++)e+=p[l];e+=p[i]-f;for(let l=1;l<n;l++)e+=p[l];e+=o}else if(a===t){for(let l=i+1;l<n;l++)e+=p[l];i<n?(e+=p[i]-f,e+=o):i===n&&(e+=o-f)}return w(t)&&n>2&&a<t&&e++,new r(e)}static fromMaya(t){let n=0,o=t.split(".");return o.forEach((e,a)=>{a===o.length-2?n*=18:n*=20,n+=+e}),new r(n)}toGreg(){let t=this.stamp,n=-3113,o=8,e=11,a=Math.floor(t/146097);if(n+=a*400,t%=146097,t>0){let i=!1,f=r.fromGreg(n+(n>0?400-n%400:-(n%400)),2,29),m=Math.floor(t/36524);if(n+=m*100,t%=36524,r.fromGreg(n,o,e).compare(f)>0&&(i=!0,e--),t>0){let h=n+(n>0?100-n%100:-(n%100));h%400===0&&(h+=100);let g=r.fromGreg(h,2,28),k=Math.floor(t/1461);n+=k*4,t%=1461;let d=r.fromGreg(n,o,e);for(d.compare(g)>0&&e++,!i&&d.compare(f)>0&&e--;t>0;){let M=w(n+1)?366:365;if(t>=M)n++,t-=M;else{let c=p[o];w(n)&&o===2&&c++,t>=c?(o++,t-=c,o>12&&(n++,o-=12)):(e+=t,t=0,e>c&&(o++,e-=c),o>12&&(n++,o-=12))}}}}return E[o]+" "+e+", "+(n<=0?Math.abs(n-1)+"BC":n)}toMLC(){let t=this.stamp,n=[];for(n.push(t%20),t=Math.floor(t/20),t>0&&(n.push(t%18),t=Math.floor(t/18));t>0;)n.push(t%20),t=Math.floor(t/20);for(;n.length<5;)n.push(0);return n.map((o,e)=>`${o} ${J[e]}`).reverse().join(", ")}toTzolkin(){let t=this.stamp,n=(t+4)%13,o=O[t%20];return n+" "+o}toHaab(){let t=this.stamp%365,n,o;return t<12?(n=17,o=t+8):t<17?(n=18,o=t-12):(t-=17,n=Math.floor(t/20),o=t%20),o+" "+H[n]}};u.name="maya";u.Config=T.Schema.object({});function $(s){s.i18n.define("zh",A()),s.command("maya <YYYY-MM-DD> [BC|AD]").example("maya 2012-12-21").action(({session:t},n,o)=>{if(!n)return t.text(".invalid-date");let e=n.match(/^(\d+)[-\.](\d+)[-\.](\d+)\.?$/);if(!e)return t.text(".invalid-date");let a=parseInt(e[1])*(o==="BC"?-1:1),i=parseInt(e[2]),f=parseInt(e[3]),m=r.fromGreg(a,i,f);return["Tzolk'in: "+m.toTzolkin(),"Haab: "+m.toHaab(),"Long Count: "+m.toMLC()].join(`
`)})}u.apply=$});export default q();
